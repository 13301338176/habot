webpackJsonp([2],{"+nwc":function(t,e){},0:function(t,e,i){t.exports=i("nplA")},"3Puz":function(t,e){},"5Tvc":function(t,e){},"7HFs":function(t,e){},KwAo:function(t,e){},MiNd:function(t,e){},N12Q:function(t,e){},QsxH:function(t,e){},R58i:function(t,e){},RP91:function(t,e){},TqJv:function(t,e){},VRCQ:function(t,e,i){"use strict";var o=i("//Fk"),n=i.n(o),a=function(){var t=this.$createElement;return(this._self._c||t)("big",{staticClass:"big-value"},[this._v(this._s(this.model.config.state))])},s=[];a._withStripped=!0;var r=i("XyMi"),c=!1;var l=function(t){c||i("d4f7")},u=Object(r.a)({name:"HbSingleItemValue",props:["model"]},a,s,!1,l,null,null);u.options.__file="src\\components\\HbSingleItemValue.vue";var M=u.exports,d=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-toggle",{attrs:{"true-value":"ON","false-value":"OFF"},model:{value:t.itemState,callback:function(e){t.itemState=e},expression:"itemState"}})},g=[];d._withStripped=!0;var p=!1;var m=function(t){p||i("MiNd")},f=Object(r.a)({props:["model"],computed:{itemState:{get:function(){return this.$store.getters["items/itemState"](this.model.item)},set:function(t){this.$store.dispatch("items/sendCmd",{itemName:this.model.item,command:t})}}}},d,g,!1,m,null,null);f.options.__file="src\\components\\HbSwitch.vue";var j=f.exports,h={props:["model"],components:{HbSwitch:j},data:function(){return{config:this.model.config}},created:function(){},asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}},state:{get:function(){return this.$expr(this.model.config.state)}}}},I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-item",{attrs:{separator:"",tag:"label"}},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v(t._s(t.label))]),t._v(" "),t.model.config.item?i("q-item-tile",{staticClass:"item-subtitle",attrs:{sublabel:""}},[t._v(t._s(t.model.config.item))]):t._e()],1),t._v(" "),i("q-item-side",{attrs:{right:""}},[t.model.config.state?i("big",{staticClass:"big-value"},[t._v(t._s(t.state))]):t._e(),t._v(" "),"Switch"===t.model.config.control?i("hb-switch",{attrs:{model:t.model.config}}):t._e()],1)],1)},N=[];I._withStripped=!0;var A=!1;var y=function(t){A||i("7HFs")},x=Object(r.a)(h,I,N,!1,y,"data-v-74c76e7b",null);x.options.__file="src\\components\\HbListItem.vue";var b=x.exports,T={props:["model"],data:function(){return{wait:!1}},computed:{itemState:{get:function(){return this.wait?this.next:parseFloat(this.$store.getters["items/itemState"](this.model.config.item))},set:function(t){var e=this;this.next=t,this.wait||(this.wait=!0,this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:t}),setTimeout(function(){e.wait=!1,setTimeout(function(){e.$store.dispatch("items/sendCmd",{itemName:e.model.config.item,command:e.next})})},500))}}}},D=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-slider",{attrs:{color:t.model.config.color,size:t.model.config.size,min:t.model.config.min,max:t.model.config.max,step:t.model.config.step},model:{value:t.itemState,callback:function(e){t.itemState=e},expression:"itemState"}})},v=[];D._withStripped=!0;var L=Object(r.a)(T,D,v,!1,null,null,null);L.options.__file="src\\components\\HbSlider.vue";var E=L.exports,C={props:["model"],data:function(){return{wait:!1}},computed:{itemState:{get:function(){return this.wait?this.next:parseFloat(this.$store.getters["items/itemState"](this.model.config.item))||0},set:function(t){var e=this;this.next=t,this.wait||(this.wait=!0,this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:t}),setTimeout(function(){e.wait=!1,setTimeout(function(){e.$store.dispatch("items/sendCmd",{itemName:e.model.config.item,command:e.next})})},500))}}}},S=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-knob",{attrs:{color:t.model.config.color,size:t.model.config.size,min:t.model.config.min,max:t.model.config.max,step:t.model.config.step},model:{value:t.itemState,callback:function(e){t.itemState=e},expression:"itemState"}})},k=[];S._withStripped=!0;var z=!1;var _=function(t){z||i("5Tvc")},w=Object(r.a)(C,S,k,!1,_,null,null);w.options.__file="src\\components\\HbKnob.vue";var O=w.exports,Q={name:"HbTabs",props:["model"],components:{HbSwitch:j,HbSlider:E,HbKnob:O,HbList:et,HbCollapsible:Z},data:function(){return{config:this.model.config}},created:function(){},asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}},sublabel:{get:function(){return this.$expr(this.model.config.sublabel)}}}},q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.model.slots&&t.model.slots.tabs&&t.model.slots.tabpanes?i("q-tabs",{attrs:{inverted:t.model.config.inverted,align:t.model.config.align,color:t.model.config.color,glossy:t.model.config.glossy,"no-pane-border":t.model.config.noborder,position:t.model.config.position}},[t._l(t.model.slots.tabs,function(t,e){return i("q-tab",{key:t,attrs:{slot:"title",name:t.config.name,label:t.config.label,default:0===e},slot:"title"})}),t._v(" "),t._l(t.model.slots.tabpanes,function(e){return i("q-tab-pane",{key:e,attrs:{name:e.config.name,"keep-alive":""}},t._l(e.slots.main,function(t,e){return i(t.component,{key:t,tag:"component",attrs:{model:t,name:"tabpane-"+e}})}))})],2):t._e()},Y=[];q._withStripped=!0;var H=!1;var $=function(t){H||i("h6av")},U=Object(r.a)(Q,q,Y,!1,$,"data-v-e6da08b0",null);U.options.__file="src\\components\\HbTabs.vue";var B=U.exports,P={name:"HbCollapsible",props:["model"],components:{HbSwitch:j,HbSlider:E,HbKnob:O,HbCollapsible:Z,HbTabs:B},data:function(){return{config:this.model.config}},created:function(){},asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}},sublabel:{get:function(){return this.$expr(this.model.config.sublabel)}}}},R=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-collapsible",{attrs:{group:t.model.config.group,sparse:t.model.config.sparse,dense:t.model.config.dense,indent:t.model.config.indent,separator:""}},[i("template",{slot:"header"},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v(t._s(t.label))]),t._v(" "),t.model.config.sublabel?i("q-item-tile",{staticClass:"item-subtitle",attrs:{sublabel:""}},[t._v(t._s(t.sublabel))]):t._e()],1)],1),t._v(" "),t.model.slots&&t.model.slots.main?i("div",t._l(t.model.slots.main,function(t,e){return i(t.component,{key:t,tag:"component",attrs:{model:t,name:"collapsible-"+e}})})):t._e()],2)},G=[];R._withStripped=!0;var F=!1;var W=function(t){F||i("RP91")},V=Object(r.a)(P,R,G,!1,W,"data-v-60aaa0d0",null);V.options.__file="src\\components\\HbCollapsible.vue";var Z=V.exports,K={components:{HbListItem:b,HbCollapsible:Z},props:["model"],data:function(){return{}}},X=function(){var t=this.$createElement,e=this._self._c||t;return this.model.slots?e("q-list",{attrs:{link:this.model.config.link}},this._l(this.model.slots.items,function(t){return e(t.component,{key:t,tag:"component",attrs:{model:t}})})):this._e()},J=[];X._withStripped=!0;var tt=Object(r.a)(K,X,J,!1,null,null,null);tt.options.__file="src\\components\\HbList.vue";var et=tt.exports,it=i("7109"),ot={name:"HbCard",components:{HbSingleItemValue:M,HbList:et,HbSwitch:j,HbKnob:O,HbSlider:E,HbCollapsible:Z,HbTabs:B},props:["model","menu"],data:function(){return{}},methods:{addCardToDeck:function(){var t=this,e=Object(it._2)({},this.model);return e.uid=Object(it._4)(),e.tags||(e.tags=[]),e.slots||(e.slots={}),new n.a(function(i,o){t.$store.dispatch("cards/create",e).then(function(e){t.$q.notify({type:"positive",message:"Added to card deck"}),i(e)}).catch(function(t){o(t)})})},addCardToDeckAndBookmark:function(){var t=this;return this.addCardToDeck().then(function(e){return t.$store.dispatch("cards/bookmark",e).then(function(){t.$q.notify({type:"info",message:"Added to bookmarks"})})})},bookmarkCard:function(){var t=this;this.$store.dispatch("cards/bookmark",this.model).then(function(){t.$q.notify({type:"info",message:"Added to bookmarks"})})},unbookmarkCard:function(){var t=this;this.$store.dispatch("cards/unbookmark",this.model).then(function(){t.$q.notify({type:"info",message:"Removed from bookmarks"})})},editCard:function(){this.model.uid&&this.$router.push("/designer/"+this.model.uid)},deleteCard:function(){var t=this;this.$store.dispatch("cards/remove",this.model).then(function(e){t.$q.notify({type:"warning",message:"Deleted",actions:[{label:"Undo",handler:function(){t.$store.dispatch("cards/create",e)}}]})})},forceRedraw:function(){this.$forceUpdate()}},asyncComputed:{title:{get:function(){return this.$expr(this.model.title)}},subtitle:{get:function(){return this.$expr(this.model.subtitle)}}}},nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.model?i("q-card",{class:{bigger:t.model.config&&t.model.config.bigger},attrs:{inline:"",color:t.model.config.color,"text-color":t.model.config.textcolor}},[t.model.imageUri?i("q-card-media",[i("img",{attrs:{src:t.model.imageUri}})]):t._e(),t._v(" "),i("q-card-title",[i("span",[t._v(t._s(t.title))]),t._v(" "),t.model.subtitle?i("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v(t._s(t.subtitle))]):t._e(),t._v(" "),i("div",{attrs:{slot:"right"},slot:"right"},[t.model.slots&&t.model.slots.right?i("div",{staticClass:"inline-block"},t._l(t.model.slots.right,function(t){return i(t.component,{key:t,tag:"component",attrs:{model:t}})})):t._e(),t._v(" "),i("q-btn",{attrs:{slot:"right",round:"",flat:"",icon:"more_vert"},slot:"right"},[i("q-popover",{attrs:{anchor:"bottom right",self:"top right"}},[i("q-list",{staticClass:"no-border",attrs:{link:""}},["chat"!==this.menu||this.model.uid?t._e():i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.addCardToDeck()}}},[i("q-item-main",{attrs:{label:"Add to Card deck"}})],1),t._v(" "),"chat"!==this.menu||this.model.uid?t._e():i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.addCardToDeckAndBookmark()}}},[i("q-item-main",{attrs:{label:"Add & bookmark"}})],1),t._v(" "),"deck"===this.menu?i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.editCard()}}},[i("q-item-main",{attrs:{label:"Edit"}})],1):t._e(),t._v(" "),"deck"!==this.menu||this.model.bookmarked?t._e():i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.bookmarkCard()}}},[i("q-item-main",{attrs:{label:"Bookmark"}})],1),t._v(" "),"deck"===this.menu&&this.model.bookmarked?i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.unbookmarkCard()}}},[i("q-item-main",{attrs:{label:"Remove bookmark"}})],1):t._e(),t._v(" "),"deck"===this.menu?i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.deleteCard()}}},[i("q-item-main",{attrs:{label:"Delete"}})],1):t._e(),t._v(" "),"bookmark"===this.menu?i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.unbookmarkCard()}}},[i("q-item-main",{attrs:{label:"Remove bookmark"}})],1):t._e(),t._v(" "),"designer"===this.menu?i("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.forceRedraw()}}},[i("q-item-main",{attrs:{label:"Force redraw"}})],1):t._e()],1)],1)],1)],1)]),t._v(" "),t.model.slots&&t.model.slots.main?i("q-card-main",t._l(t.model.slots.main,function(t,e){return i(t.component,{key:t,tag:"component",attrs:{model:t,name:"card-main-"+e}})})):t._e(),t._v(" "),t.model.slots&&t.model.slots.list&&t.model.slots.list[0]&&"HbList"===t.model.slots.list[0].component?i("hb-list",{attrs:{model:t.model.slots.list[0]}}):t._e(),t._v(" "),t.model.slots&&t.model.slots.tabs&&t.model.slots.tabs[0]&&"HbTabs"===t.model.slots.tabs[0].component?i("hb-tabs",{attrs:{model:t.model.slots.tabs[0]}}):t._e()],1):t._e()},at=[];nt._withStripped=!0;var st=!1;var rt=function(t){st||i("uStN")},ct=Object(r.a)(ot,nt,at,!1,rt,null,null);ct.options.__file="src\\components\\HbCard.vue";e.a=ct.exports},d4f7:function(t,e){},davb:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjYuNyAxNjguOSIgd2lkdGg9IjE2Ni43IiBoZWlnaHQ9IjE2OC45IiBpc29sYXRpb249Imlzb2xhdGUiPjxkZWZzPjxjbGlwUGF0aD48cmVjdCB3aWR0aD0iMTY2LjciIGhlaWdodD0iMTY4LjkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjX2NsaXBQYXRoX1BQUGlFY09SaFJTWXdvcEVFTm5hUkZ6emVZU1htd3R0KSI+PHBhdGggZD0iTTY1LjYgMTM1LjJDNjUuNiAxMzcuMSA2NC4xIDEzOC42IDYyLjIgMTM4LjYgNjAuNCAxMzguNiA1OC45IDEzNy4xIDU4LjkgMTM1LjIgNTguOSAxMzAuNyA2MS45IDEyNi43IDY2LjggMTI0IDcxLjEgMTIxLjYgNzcgMTIwLjEgODMuMyAxMjAuMSA4OS43IDEyMC4xIDk1LjYgMTIxLjYgOTkuOSAxMjQgMTA0LjcgMTI2LjcgMTA3LjggMTMwLjcgMTA3LjggMTM1LjIgMTA3LjggMTM3LjEgMTA2LjMgMTM4LjYgMTA0LjQgMTM4LjYgMTAyLjYgMTM4LjYgMTAxLjEgMTM3LjEgMTAxLjEgMTM1LjIgMTAxLjEgMTMzLjMgOTkuNCAxMzEuMyA5Ni42IDEyOS44IDkzLjMgMTI3LjkgODguNiAxMjYuOCA4My4zIDEyNi44IDc4LjEgMTI2LjggNzMuNCAxMjcuOSA3MCAxMjkuOCA2Ny4zIDEzMS4zIDY1LjYgMTMzLjMgNjUuNiAxMzUuMlpNMTQ5LjIgMTUzLjNDMTQ5LjIgMTU3LjYgMTQ3LjUgMTYxLjUgMTQ0LjYgMTY0LjQgMTQxLjggMTY3LjIgMTM3LjkgMTY4LjkgMTMzLjYgMTY4LjkgMTI5LjMgMTY4LjkgMTI1LjQgMTY3LjIgMTIyLjYgMTY0LjQgMTIwLjkgMTYyLjggMTE5LjcgMTYwLjkgMTE4LjkgMTU4LjcgMTE0LjEgMTYxIDEwOSAxNjIuOCAxMDMuNyAxNjQuMSA5Ny4yIDE2NS44IDkwLjQgMTY2LjYgODMuMyAxNjYuNiA2MC4zIDE2Ni42IDM5LjUgMTU3LjMgMjQuNCAxNDIuMiA5LjMgMTI3LjEgMCAxMDYuMyAwIDgzLjMgMCA2MC4zIDkuMyAzOS41IDI0LjQgMjQuNCAzOS41IDkuMyA2MC4zIDAgODMuMyAwIDEwNi40IDAgMTI3LjIgOS4zIDE0Mi4zIDI0LjQgMTU3LjMgMzkuNSAxNjYuNyA2MC4zIDE2Ni43IDgzLjMgMTY2LjcgOTQuNSAxNjQuNSAxMDUuMSAxNjAuNSAxMTQuOSAxNTYuNiAxMjQuMiAxNTEuMSAxMzIuNyAxNDQuNCAxNDAgMTQ3IDE0NS4xIDE0OS4yIDE1MC4yIDE0OS4yIDE1My4zWk0xMzAuNyAxMjYuM0MxMzEuMSAxMjUuNSAxMzEuOCAxMjUgMTMyLjUgMTI0LjhMMTMyLjYgMTI0LjcgMTMyLjYgMTI0LjcgMTMyLjcgMTI0LjcgMTMyLjcgMTI0LjcgMTMyLjggMTI0LjcgMTMyLjkgMTI0LjYgMTMyLjkgMTI0LjYgMTMyLjkgMTI0LjYgMTMzIDEyNC42IDEzMyAxMjQuNkMxMzMgMTI0LjYgMTMzLjEgMTI0LjYgMTMzLjEgMTI0LjZMMTMzLjEgMTI0LjYgMTMzLjIgMTI0LjYgMTMzLjIgMTI0LjZDMTMzLjkgMTI0LjUgMTM0LjYgMTI0LjYgMTM1LjIgMTI1IDEzNS44IDEyNS4zIDEzNi4zIDEyNS44IDEzNi42IDEyNi40TDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi43IDEyNi41QzEzNyAxMjcuMiAxMzcuNyAxMjguMyAxMzguNCAxMjkuNkwxMzguNCAxMjkuNiAxMzguNSAxMjkuNyAxMzguNSAxMjkuNyAxMzguNiAxMjkuOCAxMzguNiAxMjkuOSAxMzguNiAxMjkuOSAxMzguNyAxMzAgMTM4LjcgMTMwLjEgMTM4LjcgMTMwLjEgMTM4LjcgMTMwLjEgMTM4LjggMTMwLjIgMTM4LjggMTMwLjIgMTM4LjggMTMwLjMgMTM4LjkgMTMwLjMgMTM4LjkgMTMwLjQgMTM4LjkgMTMwLjQgMTM4LjkgMTMwLjQgMTM5IDEzMC41IDEzOSAxMzAuNSAxMzkgMTMwLjYgMTM5LjEgMTMwLjcgMTM5LjEgMTMwLjcgMTM5LjEgMTMwLjcgMTM5LjIgMTMwLjggMTM5LjIgMTMwLjggMTM5LjIgMTMwLjlDMTM5LjggMTMxLjggMTQwLjQgMTMyLjkgMTQxIDEzMy45IDE0Ni41IDEyNy42IDE1MS4xIDEyMC4zIDE1NC4zIDExMi40IDE1OCAxMDMuNCAxNjAgOTMuNiAxNjAgODMuMyAxNjAgNjIuMSAxNTEuNCA0MyAxMzcuNiAyOS4xIDEyMy43IDE1LjIgMTA0LjUgNi43IDgzLjMgNi43IDYyLjIgNi43IDQzIDE1LjIgMjkuMSAyOS4xIDE1LjIgNDMgNi43IDYyLjEgNi43IDgzLjMgNi43IDEwNC41IDE1LjIgMTIzLjYgMjkuMSAxMzcuNSA0MyAxNTEuNCA2Mi4yIDE2MCA4My4zIDE2MCA4OS44IDE2MCA5Ni4xIDE1OS4yIDEwMi4xIDE1Ny43IDEwNy44IDE1Ni4yIDExMy4xIDE1NC4yIDExOC4xIDE1MS43TDExOC4xIDE1MS42IDExOC4yIDE1MS42IDExOC4yIDE1MS4zIDExOC4yIDE1MS4zIDExOC4zIDE1MSAxMTguMyAxNTEgMTE4LjQgMTUwLjcgMTE4LjQgMTUwLjYgMTE4LjUgMTUwLjQgMTE4LjUgMTUwLjMgMTE4LjUgMTUwIDExOC42IDE0OS45IDExOC42IDE0OS43IDExOC43IDE0OS42IDExOC44IDE0OS4zQzExOC45IDE0OC45IDExOSAxNDguNSAxMTkuMSAxNDguMkwxMTkuMiAxNDguMSAxMTkuMyAxNDcuOCAxMTkuMyAxNDcuNyAxMTkuNCAxNDcuNCAxMTkuNCAxNDcuNEMxMTkuNSAxNDcuMSAxMTkuNiAxNDYuOSAxMTkuNyAxNDYuN0wxMTkuNyAxNDYuNiAxMTkuOCAxNDYuMyAxMTkuOSAxNDYuMiAxMjAgMTQ1LjkgMTIwLjEgMTQ1LjlDMTIwLjIgMTQ1LjYgMTIwLjMgMTQ1LjMgMTIwLjQgMTQ1LjFMMTIwLjQgMTQ1LjEgMTIwLjYgMTQ0LjcgMTIwLjYgMTQ0LjYgMTIwLjcgMTQ0LjMgMTIwLjggMTQ0LjIgMTIwLjkgMTQzLjkgMTIwLjkgMTQzLjggMTIxIDE0My44IDEyMS4xIDE0My41IDEyMS4xIDE0My40IDEyMS4yIDE0My4yIDEyMS4zIDE0MyAxMjEuNCAxNDNDMTIxLjYgMTQyLjYgMTIxLjcgMTQyLjIgMTIyIDE0MS44TDEyMiAxNDEuNyAxMjIuMiAxNDEuNCAxMjIuMiAxNDEuMyAxMjIuNCAxNDAuOSAxMjIuNCAxNDAuOSAxMjIuNiAxNDAuNSAxMjIuNiAxNDAuNSAxMjIuOCAxNDAuMSAxMjMgMTM5LjggMTIzIDEzOS43IDEyMyAxMzkuNyAxMjMuNCAxMzguOSAxMjMuNSAxMzguOSAxMjMuNiAxMzguNiAxMjMuNyAxMzguNCAxMjMuOCAxMzguMyAxMjMuOSAxMzggMTI0IDEzNy45IDEyNC4yIDEzNy42IDEyNC4yIDEzNy41IDEyNC40IDEzNy4yIDEyNC40IDEzNy4yIDEyNC42IDEzNi44IDEyNC42IDEzNi44IDEyNC44IDEzNi40IDEyNC44IDEzNi40IDEyNSAxMzYuMSAxMjUuMSAxMzYgMTI1LjIgMTM1LjcgMTI1LjMgMTM1LjYgMTI1LjQgMTM1LjMgMTI1LjUgMTM1LjIgMTI1LjYgMTM1IDEyNS43IDEzNC44IDEyNS44IDEzNC42IDEyNS45IDEzNC40IDEyNi4yIDEzNCAxMjYuMiAxMzMuOSAxMjYuNCAxMzMuNiAxMjYuNCAxMzMuNiAxMjYuNiAxMzMuMyAxMjYuNiAxMzMuMiAxMjYuOCAxMzIuOSAxMjYuOCAxMzIuOSAxMjcgMTMyLjUgMTI3IDEzMi41IDEyNy4zIDEzMi4yIDEyNy40IDEzMS45IDEyNy40IDEzMS44IDEyNy42IDEzMS42IDEyNy43IDEzMS41IDEyNy44IDEzMS4zIDEyNy45IDEzMS4xIDEyOCAxMzEgMTI4LjEgMTMwLjggMTI4LjEgMTMwLjYgMTI4LjMgMTMwLjQgMTI4LjMgMTMwLjQgMTI4LjUgMTMwLjEgMTI4LjUgMTMwLjEgMTI4LjcgMTI5LjggMTI4LjcgMTI5LjggMTI4LjggMTI5LjUgMTI4LjggMTI5LjUgMTI4LjkgMTI5LjQgMTI4LjkgMTI5LjMgMTI5IDEyOS4zIDEyOSAxMjkuMiAxMjkgMTI5LjEgMTI5IDEyOS4xIDEyOS4xIDEyOSAxMjkuMSAxMjkgMTI5LjIgMTI4LjkgMTI5LjIgMTI4LjkgMTI5LjIgMTI4LjggMTI5LjIgMTI4LjggMTI5LjMgMTI4LjggMTI5LjMgMTI4LjggMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjQgMTI4LjYgMTI5LjQgMTI4LjYgMTI5LjQgMTI4LjUgMTI5LjQgMTI4LjUgMTI5LjQgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjMgMTI5LjUgMTI4LjMgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjEgMTI5LjYgMTI4LjEgMTI5LjcgMTI4LjEgMTI5LjcgMTI4LjEgMTI5LjcgMTI4IDEyOS43IDEyOCAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNiAxMjkuOSAxMjcuNiAxMzAgMTI3LjYgMTMwIDEyNy42IDEzMCAxMjcuNSAxMzAgMTI3LjUgMTMwIDEyNy40IDEzMCAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMyAxMjcgMTMwLjMgMTI3IDEzMC4zIDEyNyAxMzAuMyAxMjcgMTMwLjMgMTI3IDEzMC4zIDEyNyAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNCAxMzAuNiAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuM1pNMTQwIDE1OS42QzE0MS41IDE1OC4xIDE0Mi42IDE1NS44IDE0Mi42IDE1My4zIDE0Mi42IDE1MSAxNDAuMSAxNDYgMTM3LjQgMTQxLjFMMTM3LjQgMTQxLjEgMTM3LjQgMTQxLjEgMTM3LjQgMTQxLjFDMTM3IDE0MC40IDEzNi43IDEzOS44IDEzNi4zIDEzOS4xTDEzNi4yIDEzOSAxMzYuMiAxMzguOSAxMzYuMSAxMzguOSAxMzYuMSAxMzguOCAxMzYgMTM4LjUgMTM1LjkgMTM4LjVDMTM1LjIgMTM3LjIgMTM0LjUgMTM2LjEgMTMzLjkgMTM1TDEzMy44IDEzNC45IDEzMy44IDEzNC44IDEzMy44IDEzNC44IDEzMy43IDEzNC43IDEzMy42IDEzNC42IDEzMy42IDEzNC41IDEzMy40IDEzNC44IDEzMy4zIDEzNS4xIDEzMy4zIDEzNS4xIDEzMy4xIDEzNS40IDEzMy4xIDEzNS40IDEzMi45IDEzNS43IDEzMi43IDEzNiAxMzIuNyAxMzYgMTMyLjUgMTM2LjMgMTMyLjUgMTM2LjMgMTMyLjQgMTM2LjYgMTMyLjIgMTM2LjkgMTMyLjIgMTM2LjkgMTMyIDEzNy4yIDEzMS44IDEzNy41IDEzMS44IDEzNy41IDEzMS42IDEzNy45IDEzMS42IDEzNy45IDEzMS40IDEzOC4yIDEzMS40IDEzOC4yIDEzMS4yIDEzOC41IDEzMSAxMzguOSAxMzEgMTM4LjkgMTMwLjggMTM5LjIgMTMwLjggMTM5LjIgMTMwLjcgMTM5LjUgMTMwLjcgMTM5LjUgMTMwLjUgMTM5LjkgMTMwLjUgMTM5LjkgMTMwLjMgMTQwLjIgMTMwLjEgMTQwLjUgMTMwLjEgMTQwLjUgMTI5LjkgMTQwLjkgMTI5LjkgMTQwLjkgMTI5LjcgMTQxLjIgMTI5LjcgMTQxLjIgMTI5LjYgMTQxLjUgMTI5LjQgMTQxLjkgMTI5LjIgMTQyLjIgMTI5LjIgMTQyLjIgMTI5IDE0Mi42IDEyOSAxNDIuNiAxMjguOCAxNDIuOSAxMjguNiAxNDMuMiAxMjguNiAxNDMuMiAxMjguNSAxNDMuNiAxMjguMyAxNDMuOSAxMjguMyAxNDMuOSAxMjguMSAxNDQuMyAxMjguMSAxNDQuMyAxMjcuOSAxNDQuNiAxMjcuOSAxNDQuNiAxMjcuOCAxNDQuOSAxMjcuNiAxNDUuMiAxMjcuNCAxNDUuNiAxMjcuMyAxNDUuOSAxMjcuMyAxNDUuOSAxMjcuMSAxNDYuMiAxMjcgMTQ2LjUgMTI3IDE0Ni41IDEyNi44IDE0Ni44IDEyNi44IDE0Ni44IDEyNi43IDE0Ny4yIDEyNi43IDE0Ny4yIDEyNi41IDE0Ny41IDEyNi41IDE0Ny41IDEyNi40IDE0Ny44IDEyNi40IDE0Ny44IDEyNi4zIDE0OC4xIDEyNi4xIDE0OC40IDEyNiAxNDguNiAxMjYgMTQ4LjYgMTI1LjkgMTQ5IDEyNS45IDE0OSAxMjUuNyAxNDkuMyAxMjUuNyAxNDkuNSAxMjUuNyAxNDkuNSAxMjUuNiAxNDkuOCAxMjUuNiAxNDkuOCAxMjUuNCAxNTAgMTI1LjQgMTUwIDEyNS4zIDE1MC4zIDEyNS4zIDE1MC4zIDEyNS4zIDE1MC42IDEyNS4zIDE1MC42IDEyNS4yIDE1MC44IDEyNS4yIDE1MC44IDEyNS4xIDE1MS4xIDEyNS4xIDE1MS4xIDEyNSAxNTEuMyAxMjUgMTUxLjMgMTI1IDE1MS42IDEyNSAxNTEuNiAxMjQuOSAxNTEuOCAxMjQuOSAxNTEuOCAxMjQuOCAxNTIgMTI0LjggMTUyIDEyNC44IDE1Mi4yIDEyNC44IDE1Mi4yIDEyNC44IDE1Mi40IDEyNC44IDE1Mi40QzEyNC43IDE1Mi41IDEyNC43IDE1Mi41IDEyNC43IDE1Mi42TDEyNC43IDE1Mi42IDEyNC43IDE1Mi44IDEyNC43IDE1Mi44QzEyNC43IDE1Mi45IDEyNC43IDE1Mi45IDEyNC43IDE1M0wxMjQuNyAxNTMgMTI0LjYgMTUzLjIgMTI0LjYgMTUzLjIgMTI0LjYgMTUzLjMgMTI0LjYgMTUzLjRDMTI0LjcgMTU1LjkgMTI1LjcgMTU4LjEgMTI3LjMgMTU5LjcgMTI4LjkgMTYxLjMgMTMxLjEgMTYyLjMgMTMzLjYgMTYyLjMgMTM2LjEgMTYyLjMgMTM4LjMgMTYxLjMgMTQwIDE1OS42Wk0xMzUuMyA3Mi43QzEzNi4yIDc0LjMgMTM1LjYgNzYuMyAxMzMuOSA3Ny4yIDEzMi4zIDc4IDEzMC4zIDc3LjQgMTI5LjQgNzUuOCAxMjguNyA3NC4zIDEyNy42IDcyLjkgMTI2LjMgNzEuOSAxMjUgNzAuOCAxMjMuNCA3MC4xIDEyMS44IDY5LjZMMTIxLjggNjkuNkMxMjAuOCA2OS40IDExOS44IDY5LjIgMTE4LjkgNjkuMiAxMTcuOCA2OS4yIDExNi44IDY5LjMgMTE1LjggNjkuNSAxMTQgNjkuOSAxMTIuMyA2OC44IDExMS44IDY3IDExMS41IDY1LjIgMTEyLjYgNjMuNSAxMTQuNCA2MyAxMTUuOCA2Mi43IDExNy40IDYyLjYgMTE4LjkgNjIuNiAxMjAuNSA2Mi42IDEyMiA2Mi44IDEyMy40IDYzLjJMMTIzLjYgNjMuMkMxMjYuMSA2My45IDEyOC40IDY1LjEgMTMwLjQgNjYuNyAxMzIuNSA2OC4zIDEzNC4xIDcwLjQgMTM1LjMgNzIuN1pNMzcuMiA3NS44QzM2LjQgNzcuNCAzNC40IDc4IDMyLjcgNzcuMiAzMS4xIDc2LjMgMzAuNSA3NC4zIDMxLjMgNzIuNyAzMi41IDcwLjQgMzQuMiA2OC4zIDM2LjIgNjYuNyAzOC4yIDY1LjEgNDAuNiA2My45IDQzLjEgNjMuMkw0My4yIDYzLjJDNDQuNyA2Mi44IDQ2LjIgNjIuNiA0Ny43IDYyLjYgNDkuMyA2Mi42IDUwLjggNjIuNyA1Mi4zIDYzIDU0LjEgNjMuNSA1NS4yIDY1LjIgNTQuOCA2NyA1NC40IDY4LjggNTIuNiA2OS45IDUwLjkgNjkuNSA0OS45IDY5LjMgNDguOCA2OS4yIDQ3LjggNjkuMiA0Ni44IDY5LjIgNDUuOCA2OS40IDQ0LjkgNjkuNkw0NC45IDY5LjZDNDMuMiA3MC4xIDQxLjcgNzAuOCA0MC40IDcxLjkgMzkuMSA3Mi45IDM4IDc0LjMgMzcuMiA3NS44Wk0xMjUuMiA5Mi43QzEyNS4yIDkwLjcgMTI0LjUgODguOSAxMjMuMyA4Ny42IDEyMi4yIDg2LjUgMTIwLjYgODUuNyAxMTkgODUuNyAxMTcuMyA4NS43IDExNS44IDg2LjUgMTE0LjcgODcuNiAxMTMuNSA4OC45IDExMi44IDkwLjcgMTEyLjggOTIuNyAxMTIuOCA5NC42IDExMy41IDk2LjQgMTE0LjcgOTcuNyAxMTUuOCA5OC45IDExNy4zIDk5LjYgMTE5IDk5LjYgMTIwLjYgOTkuNiAxMjIuMiA5OC45IDEyMy4zIDk3LjcgMTI0LjUgOTYuNCAxMjUuMiA5NC42IDEyNS4yIDkyLjdaTTEyOC4yIDgzLjJDMTMwLjQgODUuNiAxMzEuOCA4OSAxMzEuOCA5Mi43IDEzMS44IDk2LjQgMTMwLjQgOTkuNyAxMjguMiAxMDIuMiAxMjUuOCAxMDQuNyAxMjIuNiAxMDYuMyAxMTkgMTA2LjMgMTE1LjQgMTA2LjMgMTEyLjEgMTA0LjcgMTA5LjggMTAyLjIgMTA3LjUgOTkuNyAxMDYuMSA5Ni40IDEwNi4xIDkyLjcgMTA2LjEgODkgMTA3LjUgODUuNiAxMDkuOCA4My4yIDExMi4xIDgwLjYgMTE1LjQgNzkuMSAxMTkgNzkuMSAxMjIuNiA3OS4xIDEyNS44IDgwLjYgMTI4LjIgODMuMlpNNTMuOSA5Mi43QzUzLjkgOTAuNyA1My4yIDg4LjkgNTIgODcuNiA1MC45IDg2LjUgNDkuNCA4NS43IDQ3LjcgODUuNyA0NiA4NS43IDQ0LjUgODYuNSA0My40IDg3LjYgNDIuMiA4OC45IDQxLjUgOTAuNyA0MS41IDkyLjcgNDEuNSA5NC42IDQyLjIgOTYuNCA0My40IDk3LjcgNDQuNSA5OC45IDQ2IDk5LjYgNDcuNyA5OS42IDQ5LjQgOTkuNiA1MC45IDk4LjkgNTIgOTcuNyA1My4yIDk2LjQgNTMuOSA5NC42IDUzLjkgOTIuN1pNNTYuOSA4My4yQzU5LjIgODUuNiA2MC41IDg5IDYwLjUgOTIuNyA2MC41IDk2LjQgNTkuMiA5OS43IDU2LjkgMTAyLjIgNTQuNSAxMDQuNyA1MS4zIDEwNi4zIDQ3LjcgMTA2LjMgNDQuMSAxMDYuMyA0MC45IDEwNC43IDM4LjUgMTAyLjIgMzYuMiA5OS43IDM0LjggOTYuNCAzNC44IDkyLjcgMzQuOCA4OSAzNi4yIDg1LjYgMzguNSA4My4yIDQwLjkgODAuNiA0NC4xIDc5LjEgNDcuNyA3OS4xIDUxLjMgNzkuMSA1NC41IDgwLjYgNTYuOSA4My4yWiIgZmlsbD0icmdiKDEsMjIsMzkpIiBmaWxsLW9wYWNpdHk9IjAuMiIvPjwvZz48L3N2Zz4K"},e8cx:function(t,e){t.exports={HbCard:{description:"The HbCard is the root component of all HABot cards",configDescriptions:{bigger:{type:"boolean",description:"Make the card a little bigger (except on phones where it will always span the entire screen width)"},color:{type:"color",description:"The background color of the card"},textcolor:{type:"color",description:"The color of the text in the card"}},slotDescriptions:{main:{description:"The main area of the card",deniedComponents:["HbCard","HbList","HbListItem","HbListHeader","HbTab","HbTabPane"]},list:{description:"A slot for hosting a list component (HbList)",allowedComponents:["HbList"]},tabs:{description:"A slot for hosting a tabs component (HbTabs)",allowedComponents:["HbTabs"]},right:{description:"The area on the right of the card title along the context menu",allowedComponents:["HbSingleItemValue","HbSwitch"]}}},HbList:{description:"Container for a list of HbListItems",configDescriptions:{link:{type:"boolean",description:"Display the list items in gray when hovering on desktops"}},slotDescriptions:{items:{description:"Contains the list items",allowedComponents:["HbListItem","HbCollapsible"]}}},HbListItem:{description:"A list item",configDescriptions:{label:{type:"text",description:"The label of the item"},item:{type:"item",description:"The item controlled by this list item"},state:{type:"text",description:"The state to display on the right"},control:{type:"optiongroup",description:"The type of control displayed on the right",options:[{value:"",label:"Default"},{value:"Switch",label:"Switch"}]}}},HbCollapsible:{description:"A collapsible, useable both in a HbList and standalone",configDescriptions:{label:{type:"text",description:"The label in the header"},sublabel:{type:"text",description:"The sublabel in the header"},group:{type:"text",description:"Use the same group identifier on several HbCollapsibles to make a group act as an accordion"},indent:{type:"boolean",description:"Indent the collapsible's contents (for example to build a hierarchy)"}},slotDescriptions:{main:{description:"The main area of the collapsible",deniedComponents:["HbCard","HbList","HbListItem","HbListHeader"]}}},HbTabs:{description:"A set of tabs",configDescriptions:{align:{type:"optiongroup",description:"Alignment of the tabs in the bar",options:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"justify",label:"Justify"}]},inverted:{type:"boolean",description:"Invert the background of the tab"},position:{type:"optiongroup",description:"Position the tab above or below the tab panes",options:[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"}]},color:{type:"color",description:"Color of the tab header's background"},glossy:{type:"boolean",description:"Apply a glossy effect to the tab header"},noborder:{type:"boolean",description:"Don't draw a border around the tab panes"}},slotDescriptions:{tabs:{description:"The collection of tabs",allowedComponents:["HbTab"]},tabpanes:{description:"The collection of tab panes which must match the tabs",allowedComponents:["HbTabPane"]}}},HbTab:{description:"A tab - use in HbTabs and be sure to add a HbTabPane with the same name in the tabpanes slot",configDescriptions:{name:{type:"text",description:"Name of the tab - should match the name of the corresponding HbTabPane in the tabpanes slot"},label:{type:"text",description:"Label of the tab"}}},HbTabPane:{description:"A tab pane - use in HbTabs's tabpanes slot and be sure to match the name with a HbTab",configDescriptions:{name:{type:"text",description:"Name of the tab pane - should match the name of the corresponding HbTab in the tabs slot"}},slotDescriptions:{main:{description:"The main area of the tab pane"}}},HbSlider:{description:"A slider operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this list item"}}},HbKnob:{description:"A knob operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this list item"}}},HbSwitch:{description:"A switch operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this list item"}}},HbSingleItemValue:{description:"Displays the formatted state of an item. Designed to be placed in the right slot of a HbCard",configDescriptions:{item:{type:"item",description:"The item whose state should be displayed this component"},state:{type:"text",description:"A textual value to display instead of the state of the state of the configyured item"}}}}},feqG:function(t,e){},h6av:function(t,e){},io6X:function(t,e){},nplA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={};i.d(o,"objectSet",function(){return jt}),i.d(o,"locationSet",function(){return ht}),i.d(o,"allStates",function(){return It}),i.d(o,"itemState",function(){return Nt});var n={};i.d(n,"updateAll",function(){return At}),i.d(n,"updateOne",function(){return yt}),i.d(n,"setReady",function(){return xt});var a={};i.d(a,"initialLoad",function(){return Lt}),i.d(a,"watchEvents",function(){return Et}),i.d(a,"sendCmd",function(){return Ct});var s={};i.d(s,"all",function(){return kt}),i.d(s,"bookmarked",function(){return zt}),i.d(s,"single",function(){return _t}),i.d(s,"copy",function(){return wt});var r={};i.d(r,"updateAll",function(){return Ot}),i.d(r,"createCard",function(){return Qt}),i.d(r,"updateCard",function(){return qt}),i.d(r,"bookmarkCard",function(){return Yt}),i.d(r,"unbookmarkCard",function(){return Ht}),i.d(r,"updateCardTimestamp",function(){return $t}),i.d(r,"removeCard",function(){return Ut}),i.d(r,"setReady",function(){return Bt});var c={};i.d(c,"initialLoad",function(){return Pt}),i.d(c,"create",function(){return Rt}),i.d(c,"update",function(){return Gt}),i.d(c,"bookmark",function(){return Ft}),i.d(c,"unbookmark",function(){return Wt}),i.d(c,"remove",function(){return Vt}),i.d(c,"updateTimestamp",function(){return Zt});var l={};i.d(l,"initialLoad",function(){return Xt});var u=i("Dd8w"),M=i.n(u),d=(i("L4dm"),i("hAPP"),i("3Puz"),i("N12Q"),i("/5sW")),g=i("7109"),p=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"q-app"}},[e("router-view")],1)},m=[];p._withStripped=!0;var f=i("XyMi"),j=!1;var h=function(t){j||i("QsxH")},I=Object(f.a)({name:"App"},p,m,!1,h,null,null);I.options.__file="src\\App.vue";var N=I.exports,A=i("/ocq"),y=i("mvHQ"),x=i.n(y),b=i("VRCQ"),T={name:"PageChat",components:{HbCard:b.a},data:function(){return{text:"",chats:[{messages:[],card:!1,finished:!1}],inputAfter:[{icon:"arrow_send",content:!0,handler:this.send}]}},created:function(){var t=this;if(this.$route.redirectedFrom&&0===this.$route.redirectedFrom.indexOf("/notification#")){var e=this.$route.redirectedFrom.replace("/notification#","");this.pushNotificationReceived({data:e})}else this.$http.get("/rest/habot/greet").then(function(e){t.language=e.data.language,t.language||(t.language="en"),t.chats[0].messages.push({id:new Date,name:"HABot",text:[e.data.answer],avatar:"statics/icons/icon-192x192.png",stamp:g._0.formatDate(new Date,"HH:mm")})}).catch(function(e){t.chats[0].messages.push({id:new Date,name:"HABot",text:[x()(e)],avatar:"statics/icons/icon-192x192.png",bgColor:"red",stamp:g._0.formatDate(new Date,"HH:mm")})})},mounted:function(){navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",this.pushNotificationReceived)},methods:{pushNotificationReceived:function(t){var e=this.chats[this.chats.length-1];e.finished&&(this.chats.push({messages:[],card:null,finished:!1}),e=this.chats[this.chats.length-1]),e.messages.push({id:new Date,name:"HABot",text:[t.data],avatar:"statics/icons/icon-192x192.png",stamp:g._0.formatDate(new Date,"HH:mm")})},send:function(){var t=this,e=this.chats[this.chats.length-1];e.messages.push({id:new Date,name:"You",text:[this.text],avatar:"statics/avatar.png",sent:!0,stamp:g._0.formatDate(new Date,"HH:mm")}),this.$http.post("/rest/habot/chat",this.text,{headers:{"Content-Type":"text/plain","Accept-Language":this.language}}).then(function(i){i.data.answer&&e.messages.push({id:new Date,name:"HABot",text:[i.data.answer],avatar:"statics/icons/icon-192x192.png",stamp:g._0.formatDate(new Date,"HH:mm")}),i.data.card&&(e.card=i.data.card,e.card.uid||(e.card.config={bigger:!0}),e.finished=!0,t.chats.push({messages:[],card:null,finished:!1})),e.intent=i.data.intent}).catch(function(t){e.messages.push({id:new Date,name:"HABot",text:[x()(t)],avatar:"statics/icons/icon-192x192.png",bgColor:"red",stamp:g._0.formatDate(new Date,"HH:mm")})}),this.text="",this.$q.platform.is.mobile&&this.$refs.input.blur()},keyUp:function(t){13===t.keyCode&&(this.send(),this.$q.platform.is.mobile&&t.currentTarget.blur())},onChatAreaResized:function(t){console.log("Resize: "+x()(t)),this.scrollToBottom()},scrollToBottom:function(){var t=document.getElementById("q-app");console.log("scrollToBottom: "+t.scrollTop+" -> "+t.scrollHeight),t.scrollTop=t.scrollHeight,console.log("scrollToBottom (document.body): "+t.scrollTop+" -> "+t.scrollHeight),document.body.scrollTop=document.body.scrollHeight}},beforeDestroyed:function(){this.$q.events.$off("chat-send",this.chatReceived),navigator.serviceWorker&&navigator.serviceWorker.removeEventListener("message",this.pushNotificationReceived)}},D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"row justify-center",attrs:{padding:""}},[i("div",{staticStyle:{width:"600px","margin-top":"100px"}},t._l(t.chats,function(e){return i("div",{key:e,ref:"chat",refInFor:!0,staticClass:"chat-area"},[i("q-resize-observable",{on:{resize:t.onChatAreaResized}}),t._v(" "),i("q-window-resize-observable",{on:{resize:t.scrollToBottom}}),t._v(" "),t._l(e.messages,function(t){return i("q-chat-message",{key:t,attrs:{label:t.label,sent:t.sent,"text-color":t.textColor,"bg-color":t.bgColor,name:t.name,avatar:t.avatar,text:t.text,stamp:t.stamp}})}),t._v(" "),e.card&&"HbCard"===e.card.component?i("hb-card",{attrs:{model:e.card,menu:"chat"}}):t._e(),t._v(" "),e.card&&"HbDumpIntentCard"===e.card.component?i("q-card",[i("q-card-title",[t._v("\n          Intent: "+t._s(e.intent.name)+"\n          "),i("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v("Sorry, this intent is currently unsupported :(")])]),t._v(" "),i("q-list",[i("q-list-header",[t._v("Entities")]),t._v(" "),t._l(e.intent.entities,function(e,o){return i("q-item",{key:e,attrs:{link:"",tag:"label"}},[i("q-item-main",{attrs:{label:o}}),t._v(" "),i("q-item-side",{attrs:{right:""}},[i("big",[t._v(t._s(e))])],1)],1)})],2)],1):t._e()],2)})),t._v(" "),i("q-page-sticky",{staticClass:"chat-input-sticky",attrs:{position:"bottom"}},[i("q-toolbar",{staticClass:"chat-input-toolbar bg-grey-3 shadow-up-3"},[i("q-input",{ref:"input",staticClass:"full-width",attrs:{placeholder:"Ask me about your home",after:t.inputAfter},on:{keyup:t.keyUp},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)],1)},v=[];D._withStripped=!0;var L=!1;var E=function(t){L||i("feqG")},C=Object(f.a)(T,D,v,!1,E,null,null);C.options.__file="src\\pages\\Chat.vue";var S=C.exports,k=i("BO1k"),z=i.n(k);var _={data:function(){return{speechApi:"google"}},methods:{setGoogleApiKey:function(){var t=this;t.$q.dialog({title:"Set the Google Cloud API key",message:"You need to subscribe to the (paid) Google Cloud Platform to use this feature. There is a trial period and a free tier, which might be enough for casual use. Paste the API key below:",prompt:{model:"",type:"text"},cancel:!0}).then(function(e){t.$q.localStorage.set("habot.googleApiKey",e),t.$q.notify({type:"info",message:"API Key Set for this device"})}).catch(function(){})},enableNotifications:function(){var t=this,e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator?"https:"===window.location.protocol||e?navigator.serviceWorker.getRegistration().then(function(e){return"showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(t.$q.notify("Notifications are blocked - please check the browser's site settings"),void t.$q.loading.hide()):"PushManager"in window?void e.pushManager.getSubscription().then(function(i){var o=function(e){t.$q.loading.show({message:"Subscribing to notifications..."}),t.$http.post("/rest/habot/notifications/subscribe",x()(e),{headers:{"Content-Type":"text/plain"}}).then(function(e){t.$q.notify({type:"positive",message:"Success! You should receive a test notification!"}),t.$q.loading.hide()}).catch(function(e){t.$q.notify("Error while sending the subscription to the openHAB server: "+e),t.$q.loading.hide()})};t.$q.loading.show({message:"Initializing, please wait..."}),i?o(i):t.$http.get("/rest/habot/notifications/vapid").then(function(i){var n=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),i=window.atob(e),o=new Uint8Array(i.length),n=0;n<i.length;++n)o[n]=i.charCodeAt(n);return o}(i.data);t.$q.loading.show({message:"Preparing the subscription... Please allow the notifications if prompted!",delay:1e3}),e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n}).then(function(t){o(t)}).catch(function(e){"denied"===Notification.permission?t.$q.notify("Notifications are blocked - please check the browser's site settings"):t.$q.notify("Error while subscribing to push notifications: "+e),t.$q.loading.hide()})}).catch(function(e){t.$q.notify("Error while getting the public VAPID key from the server: "+e),t.$q.loading.hide()})}):(t.$q.notify("Push messaging isn't supported."),void t.$q.loading.hide()):(t.$q.notify("Notifications aren't supported."),void t.$q.loading.hide())}).catch(function(e){t.$q.notify("Error while registering the service worker: "+e)}):t.$q.notify("Sorry, HTTPS is required for the notifications to work"):t.$q.notify("Sorry, notifications are not supported on this browser")},refreshApp:function(){var t=this;this.$q.dialog({title:"Refresh app",message:"This will empty the cache and reload the newest version of the app from the server. You will need to enable push notifications again. Continue?",cancel:!0}).then(function(e){t.$q.loading.show({delay:0,message:"Refreshing the app..."}),setTimeout(function(){navigator.serviceWorker.getRegistrations().then(function(t){var e=!0,i=!1,o=void 0;try{for(var n,a=z()(t);!(e=(n=a.next()).done);e=!0){n.value.unregister()}}catch(t){i=!0,o=t}finally{try{!e&&a.return&&a.return()}finally{if(i)throw o}}location.reload()})},1e3)})}}},w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout-padding",staticStyle:{"max-width":"600px"}},[i("br"),t._v(" "),i("q-list",{attrs:{link:""}},[i("q-list-header",[t._v("Speech recognition API")]),t._v(" "),i("q-item",{attrs:{tag:"label"}},[i("q-item-side",[i("q-radio",{attrs:{val:"google"},model:{value:t.speechApi,callback:function(e){t.speechApi=e},expression:"speechApi"}})],1),t._v(" "),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v("Google Cloud Speech")]),t._v(" "),i("q-item-tile",{attrs:{sublabel:""}},[t._v("Uses Google services, requires an API key.")])],1),t._v(" "),i("q-item-side",{attrs:{right:""}},[i("q-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.setGoogleApiKey()}}},[t._v("Setup")])],1)],1),t._v(" "),i("q-item",{attrs:{tag:"label",disabled:""}},[i("q-item-side",[i("q-radio",{attrs:{val:"browser",disable:""},model:{value:t.speechApi,callback:function(e){t.speechApi=e},expression:"speechApi"}})],1),t._v(" "),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v("Browser built-in recognition")]),t._v(" "),i("q-item-tile",{attrs:{sublabel:""}},[t._v("Uses the browser functionality if supported (not implemented).")])],1)],1),t._v(" "),i("q-item",{attrs:{tag:"label",disabled:""}},[i("q-item-side",[i("q-radio",{attrs:{val:"browser",disable:""},model:{value:t.speechApi,callback:function(e){t.speechApi=e},expression:"speechApi"}})],1),t._v(" "),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v("Send to openHAB speech-to-text")]),t._v(" "),i("q-item-tile",{attrs:{sublabel:""}},[t._v("Sends the audio to openHAB for local processing (not implemented).")])],1)],1),t._v(" "),i("q-list-header",[t._v("Item tagging")]),t._v(" "),i("q-item",{attrs:{disabled:""}},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v("View item tags")]),t._v(" "),i("q-item-tile",{attrs:{sublabel:""}},[t._v("View and set the tags associated with your items. (todo)")])],1)],1),t._v(" "),i("q-list-header",[t._v("Notifications")]),t._v(" "),i("q-item",{nativeOn:{click:function(e){t.enableNotifications()}}},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v("Enable/test push notifications")]),t._v(" "),i("q-item-tile",{attrs:{sublabel:""}},[t._v("Subscribe to push notifications on this device, and check whether notifications are received.")])],1)],1),t._v(" "),i("q-list-header",[t._v("About")]),t._v(" "),i("q-item",{attrs:{disabled:""}},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v("About HABot")])],1)],1),t._v(" "),i("q-item",{nativeOn:{click:function(e){t.refreshApp()}}},[i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v("Refresh the application")]),t._v(" "),i("q-item-tile",{attrs:{sublabel:""}},[t._v("Empty and refresh the application cache to upgrade the app.")])],1)],1)],1)],1)},O=[];w._withStripped=!0;var Q=Object(f.a)(_,w,O,!1,null,null,null);Q.options.__file="src\\pages\\Settings.vue";var q=Q.exports,Y={components:{CardDesigner:i("pJtG").default,HbCard:b.a},data:function(){return{objects:[],locations:[]}},methods:{addCard:function(){this.$router.push("/designer/"+Object(g._4)())},addListCard:function(){this.$router.push("/designer/"+Object(g._4)()+"?type=list")},addTabbedCard:function(){this.$router.push("/designer/"+Object(g._4)()+"?type=tabs")}},computed:{objectSet:{get:function(){return this.$store.getters["items/objectSet"].map(function(t){return{label:t,value:t}})}},locationSet:{get:function(){return this.$store.getters["items/locationSet"].map(function(t){return{label:t,value:t}})}},cards:{get:function(){return this.$store.getters["cards/all"]}}}},H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"row filters bg-grey-2 shadow-2"},[i("q-select",{staticClass:"col-sm-6",attrs:{multiple:"",filter:"",chips:"",color:"secondary",options:t.objectSet,"float-label":"Objects"},model:{value:t.objects,callback:function(e){t.objects=e},expression:"objects"}}),t._v(" "),i("q-select",{staticClass:"col-sm-6",attrs:{multiple:"",filter:"",chips:"",color:"secondary",options:t.locationSet,"float-label":"Locations"},model:{value:t.locations,callback:function(e){t.locations=e},expression:"locations"}})],1),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"hb-cards"},t._l(t.cards,function(t){return i("HbCard",{key:t.uid,tag:"component",attrs:{model:t,menu:"deck"}})}))]),t._v(" "),i("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[i("q-fab",{attrs:{color:"secondary",icon:"add",direction:"up"}},[i("q-fab-action",{attrs:{color:"secondary",icon:"aspect_ratio"},on:{click:t.addCard}},[i("q-tooltip",{attrs:{anchor:"center left",self:"center right",offset:[10,10]}},[t._v("Create simple card")])],1),t._v(" "),i("q-fab-action",{attrs:{color:"secondary",icon:"list"},on:{click:t.addListCard}},[i("q-tooltip",{attrs:{anchor:"center left",self:"center right",offset:[10,10]}},[t._v("Create list card")])],1),t._v(" "),i("q-fab-action",{attrs:{color:"secondary",icon:"tab"},on:{click:t.addTabbedCard}},[i("q-tooltip",{attrs:{anchor:"center left",self:"center right",offset:[10,10]}},[t._v("Create tabbed card")])],1)],1)],1)],1)},$=[];H._withStripped=!0;var U=!1;var B=function(t){U||i("TqJv")},P=Object(f.a)(Y,H,$,!1,B,null,null);P.options.__file="src\\pages\\CardDeck.vue";var R=P.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center",staticStyle:{"margin-top":"100px"}},[t._m(0),t._v(" "),i("p",{staticClass:"text-faded"},[t._v("Not yet implemented...")]),t._v(" "),i("q-btn",{staticStyle:{width:"200px"},attrs:{color:"secondary"},on:{click:function(e){t.$router.push("/")}}},[t._v("Go back")])],1)},F=[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{staticStyle:{width:"30vw","max-width":"150px"},attrs:{src:i("davb")}})])}];G._withStripped=!0;var W=Object(f.a)(null,G,F,!1,null,null,null);W.options.__file="src\\pages\\CardSuggestions.vue";var V=W.exports,Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center",staticStyle:{"margin-top":"100px"}},[t._m(0),t._v(" "),i("p",{staticClass:"text-faded"},[t._v("Not yet implemented...")]),t._v(" "),i("q-btn",{staticStyle:{width:"200px"},attrs:{color:"secondary"},on:{click:function(e){t.$router.push("/")}}},[t._v("Go back")])],1)},K=[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{staticStyle:{width:"30vw","max-width":"150px"},attrs:{src:i("davb")}})])}];Z._withStripped=!0;var X=Object(f.a)(null,Z,K,!1,null,null,null);X.options.__file="src\\pages\\CardRecent.vue";var J=X.exports,tt={components:{HbCard:b.a},computed:{cards:{get:function(){return this.$store.getters["cards/bookmarked"]}}}},et=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"row"},[e("div",{staticClass:"hb-cards"},this._l(this.cards,function(t){return e("HbCard",{key:t.uid,tag:"component",attrs:{model:t,menu:"deck"}})}))])},it=[];et._withStripped=!0;var ot=!1;var nt=function(t){ot||i("io6X")},at=Object(f.a)(tt,et,it,!1,nt,null,null);at.options.__file="src\\pages\\CardBookmarks.vue";var st=at.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-center",staticStyle:{"margin-top":"100px"}},[t._m(0),t._v(" "),i("p",{staticClass:"text-faded"},[t._v("Not yet implemented...")]),t._v(" "),i("q-btn",{staticStyle:{width:"200px"},attrs:{color:"secondary"},on:{click:function(e){t.$router.push("/")}}},[t._v("Go back")])],1)},ct=[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{staticStyle:{width:"30vw","max-width":"150px"},attrs:{src:i("davb")}})])}];rt._withStripped=!0;var lt=Object(f.a)(null,rt,ct,!1,null,null,null);lt.options.__file="src\\pages\\Help.vue";var ut=[{path:"/",component:function(){return i.e(0).then(i.bind(null,"lfHO"))},children:[{path:"/",redirect:"/chat"},{path:"/chat",component:S,meta:{title:"Chat with HABot"}},{path:"/settings",component:q,meta:{title:"Settings"}},{path:"/cards/bookmarks",component:st,meta:{title:"Card bookmarks"}},{path:"/cards/suggestions",component:V,meta:{title:"Card suggestions"}},{path:"/cards/recent",component:J,meta:{title:"Recent cards"}},{path:"/cards/deck",component:R,meta:{title:"Card deck"}},{path:"/help",component:lt.exports,meta:{title:"Help"}},{path:"/notification",redirect:function(t){return{path:"/chat",hash:"",query:"",params:{action:t.hash}}}}]},{path:"/designer/:uid",component:function(){return new Promise(function(t){t()}).then(i.bind(null,"pJtG"))},props:!0},{path:"*",component:function(){return i.e(1).then(i.bind(null,"c5Mg"))}}],Mt=i("NYxO"),dt=i("lHA8"),gt=i.n(dt),pt=i("Gu7T"),mt=i.n(pt),ft=function(t){return[].concat(mt()(new gt.a(t)))},jt=function(t){var e=t.items.map(function(t){return t.tags||[]}).reduce(function(t,e){return t.concat(e)}).filter(function(t){return 0===t.indexOf("object:")}).map(function(t){return t.replace("object:","")});return ft(e)},ht=function(t){if(!t.items)return[];var e=t.items.map(function(t){return t.tags||[]}).reduce(function(t,e){return t.concat(e)}).filter(function(t){return 0===t.indexOf("location:")}).map(function(t){return t.replace("location:","")});return ft(e)},It=function(t){var e={},i=!0,o=!1,n=void 0;try{for(var a,s=z()(t.items);!(i=(a=s.next()).done);i=!0){var r=a.value;e[r.name]=t.state[r.name]}}catch(t){o=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw n}}return e},Nt=function(t){return function(e){if(!t.items)return[];var i=t.items.find(function(t){return t.name===e});return i&&i.state?i.state:null}},At=function(t,e){console.log("Loaded "+e.length+" items"),t.items=e;var i=!0,o=!1,n=void 0;try{for(var a,s=z()(e);!(i=(a=s.next()).done);i=!0){var r=a.value;t.state[r.name]=r}}catch(t){o=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw n}}},yt=function(t,e){console.log("Updating "+e.itemName+" state to "+e.newState);var i=t.items.find(function(t){return t.name===e.itemName});i.state=e.newState,t.state=Object(g._2)({},t.state),t.state[e.itemName]=i},xt=function(t){t.ready=!0},bt=i("//Fk"),Tt=i.n(bt),Dt=i("mtWM"),vt=i.n(Dt),Lt=function(t){return t.state.items.length?Tt.a.resolve():(console.log("Fetching initial state of all items..."),new Tt.a(function(e,i){vt.a.get("/rest/items").then(function(i){t.commit("updateAll",i.data),t.commit("setReady"),t.dispatch("watchEvents"),e()}).catch(function(t){i(t)})}))},Et=function(t){new EventSource("/rest/events").onmessage=function(e){var i=JSON.parse(e.data);if(i.type.indexOf("ItemStateEvent")>=0){var o=JSON.parse(i.payload),n=i.topic.split("/")[2];t.commit("updateOne",{itemName:n,newState:o.value})}}},Ct=function(t,e){console.log("Sending command to "+e.itemName+": "+e.command),vt.a.post("/rest/items/"+e.itemName,e.command,{headers:{"Content-Type":"text/plain"}})},St={namespaced:!0,state:{ready:!1,items:[],state:[]},getters:o,mutations:n,actions:a},kt=function(t){return t.cards},zt=function(t){return t.cards.filter(function(t){return t.bookmarked})},_t=function(t){return function(e){return t.cards.find(function(t){return t.uid===e})}},wt=function(t){return function(e){var i=t.cards.find(function(t){return t.uid===e});return i?Object(g._2)(!0,{},i):null}},Ot=function(t,e){console.log("Loaded "+e.length+" cards"),t.cards=e},Qt=function(t,e){t.cards.push(e)},qt=function(t,e){var i=t.cards.findIndex(function(t){return t.uid===e.uid});i<0||(t.cards[i]=e)},Yt=function(t,e){var i=t.cards.findIndex(function(t){return t.uid===e.uid});i<0||(t.cards[i].bookmarked=!0)},Ht=function(t,e){var i=t.cards.findIndex(function(t){return t.uid===e.uid});i<0||(t.cards[i].bookmarked=!1)},$t=function(t,e){var i=t.cards.findIndex(function(t){return t.uid===e.uid});i<0||(t.cards[i].timetamp=Date.now())},Ut=function(t,e){var i=t.cards.findIndex(function(t){return t.uid===e.uid});i<0||t.cards.splice(i,1)},Bt=function(t){t.ready=!0},Pt=function(t){return t.state.cards.length?Tt.a.resolve():(console.log("Fetching all cards..."),new Tt.a(function(e,i){vt.a.get("/rest/habot/cards").then(function(i){t.commit("updateAll",i.data),t.commit("setReady"),e()}).catch(function(t){i(t)})}))},Rt=function(t,e){return vt.a.post("/rest/habot/cards",e).then(function(i){return t.commit("createCard",e),Tt.a.resolve(e)}).catch(function(t){return Tt.a.reject(t)})},Gt=function(t,e){return vt.a.put("/rest/habot/cards/"+e.uid,e).then(function(i){return t.commit("updateCard",e),Tt.a.resolve(e)}).catch(function(t){return Tt.a.reject(t)})},Ft=function(t,e){return vt.a.put("/rest/habot/cards/"+e.uid+"/bookmark").then(function(i){return t.commit("bookmarkCard",e),Tt.a.resolve(e)}).catch(function(t){return Tt.a.reject(t)})},Wt=function(t,e){return vt.a.delete("/rest/habot/cards/"+e.uid+"/bookmark").then(function(i){return t.commit("unbookmarkCard",e),Tt.a.resolve(e)}).catch(function(t){return Tt.a.reject(t)})},Vt=function(t,e){return vt.a.delete("/rest/habot/cards/"+e.uid).then(function(i){return t.commit("removeCard",e),Tt.a.resolve(e)}).catch(function(t){return Tt.a.reject(t)})},Zt=function(t,e){return vt.a.put("/rest/habot/cards/"+e.uid+"/timestamp").then(function(i){return t.commit("updateCardTimestamp",e),Tt.a.resolve(e)}).catch(function(t){return Tt.a.reject(t)})},Kt={namespaced:!0,state:{cards:[]},getters:s,mutations:r,actions:c},Xt=function(t){return t.dispatch("items/initialLoad").then(function(){return t.dispatch("cards/initialLoad")})};d.a.use(Mt.a);var Jt=new Mt.a.Store({modules:{items:St,cards:Kt},actions:l});d.a.use(A.a);var te=new A.a({mode:"hash",base:"/",scrollBehavior:function(){return{y:0}},routes:ut});te.beforeEach(function(t,e,i){Jt.dispatch("initialLoad").then(function(){return i()})});var ee=te,ie=i("fH43"),oe=i.n(ie),ne=i("PlbA"),ae=i.n(ne),se=i("v5o6"),re=i.n(se);d.a.config.productionTip=!1,d.a.use(g._1,{components:{QLayout:g.z,QLayoutHeader:g.C,QLayoutFooter:g.B,QLayoutDrawer:g.A,QPageContainer:g.J,QPage:g.I,QPageSticky:g.K,QFab:g.o,QTooltip:g.W,QFabAction:g.p,QToolbar:g.U,QToolbarTitle:g.V,QModal:g.F,QModalLayout:g.G,QBtnGroup:g.g,QBtn:g.f,QIcon:g.r,QList:g.D,QListHeader:g.E,QItem:g.t,QItemMain:g.u,QItemSeparator:g.v,QItemSide:g.w,QItemTile:g.x,QCollapsible:g.n,QTabs:g.S,QTab:g.Q,QTabPane:g.R,QField:g.q,QSelect:g.O,QInput:g.s,QChipsInput:g.m,QOptionGroup:g.H,QChatMessage:g.l,QResizeObservable:g.N,QWindowResizeObservable:g.Y,QCard:g.h,QCardTitle:g.k,QPopover:g.L,QCardMain:g.i,QCardMedia:g.j,QRadio:g.M,QToggle:g.T,QKnob:g.y,QSlider:g.P,QTree:g.X},directives:{Ripple:g.Z,CloseOverlay:g.a},plugins:{Notify:g.e,Dialog:g.b,Loading:g.c,LocalStorage:g.d}});var ce=M()({el:"#q-app",router:ee,store:Jt},N),le=[];le.push(function(t){t.Vue.prototype.$http=vt.a}),le.push(function(t){t.app,t.router;var e=t.store,i=t.Vue;i.use(ae.a),i.prototype.$jexl=oe.a,oe.a.addTransform("number",function(t){return parseFloat(t)}),i.prototype.$expr=function(t,i){if(!t)return null;if(i||(i={items:e.getters["items/allStates"]}),!t.startsWith("="))return t;try{return oe.a.eval(t.substring(1),i).then(function(t){return t}).catch(function(t){return t.message})}catch(t){return t}}}),le.forEach(function(t){return t({app:ce,router:ee,store:Jt,Vue:d.a})}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){re.a.attach(document.body)},!1),new d.a(ce)},pJtG:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("fZjL"),n=i.n(o),a=i("BO1k"),s=i.n(a),r=i("VRCQ"),c=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-input",{attrs:{value:t.value,color:"secondary"},on:{input:function(e){t.$emit("input",e)}}})},l=[];c._withStripped=!0;var u=i("XyMi"),M=Object(u.a)({name:"ConfigText",props:["value"]},c,l,!1,null,null,null);M.options.__file="src\\components\\designer\\ConfigText.vue";var d=M.exports,g=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-toggle",{attrs:{value:t.value,color:"secondary"},on:{input:function(e){t.$emit("input",e)}}})},p=[];g._withStripped=!0;var m=Object(u.a)({name:"ConfigBool",props:["value"]},g,p,!1,null,null,null);m.options.__file="src\\components\\designer\\ConfigBool.vue";var f=m.exports,j=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-option-group",{attrs:{value:t.value,color:"secondary",options:t.options},on:{input:function(e){t.$emit("input",e)}}})},h=[];j._withStripped=!0;var I=Object(u.a)({name:"ConfigOptionGroup",props:["value","options"]},j,h,!1,null,null,null);I.options.__file="src\\components\\designer\\ConfigOptionGroup.vue";var N=I.exports,A=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-select",{attrs:{value:t.value,color:"secondary",options:t.items,filter:""},on:{input:function(e){t.$emit("input",e)}}})},y=[];A._withStripped=!0;var x=Object(u.a)({name:"ConfigItem",props:["value"],data:function(){return{items:this.$store.state.items.items.map(function(t){return{value:t.name,label:t.name,sublabel:t.label,stamp:t.type}})}}},A,y,!1,null,null,null);x.options.__file="src\\components\\designer\\ConfigItem.vue";var b=x.exports,T=i("/5sW"),D=i("7109"),v=i("e8cx"),L=i.n(v);var E={name:"CardDesigner",props:["uid"],components:{HbCard:r.a,ConfigText:d,ConfigBool:f,ConfigOptionGroup:N,ConfigItem:b},data:function(){return{components:L.a,layout:{treepane:!0,toolpane:!0},cardModel:null,treeModel:null,selectedNodeId:"card",newCard:!1}},methods:{goBack:function(){this.$router.push("/cards/deck")},save:function(){var t=this;this.card.uid=this.uid,(this.newCard?this.$store.dispatch("cards/create",this.card):this.$store.dispatch("cards/update",this.card)).then(function(){t.$q.notify({type:"positive",message:"Card saved"})}).catch(function(e){t.$q.notify(e.message)})},redrawCard:function(){this.$refs.card.$forceUpdate()},buildTree:function(){var t=this;this.flattenedComponents={},this.treeModel=null,this.cardModel=null,T.a.nextTick(function(){t.cardModel=t.card,t.treeModel=[function t(e,i){var o={id:i,type:"component",component:e,icon:"widgets",label:e.component};if(e.title&&(o.title=e.title),e.subtitle&&(o.subtitle=e.subtitle),e.config||(e.config={}),o.config=e.config,e.slots)for(var n in o.children=[],e.slots){var a=i+"-"+n,r={id:a,label:n,component:e,type:"slot",icon:"view_compact",tickable:!1,children:[],parentNode:o},c=0,l=!0,u=!1,M=void 0;try{for(var d,g=s()(e.slots[n]);!(l=(d=g.next()).done);l=!0){var p=t(d.value,a+"-"+c++);p.parentNode=r,p.parentSlotName=n,p.parentSlot=e.slots[n],r.children.push(p)}}catch(t){u=!0,M=t}finally{try{!l&&g.return&&g.return()}finally{if(u)throw M}}o.children.push(r)}return o}(t.card,"card")]})},addSlot:function(t){var e=this.selectedNode.component;e.slots||(e.slots={}),e.slots[t]=[],this.buildTree()},addComponent:function(t,e){var i=this.selectedNode.component,o={component:e,config:{}};i.slots[t]||(i.slots[t]=[]),this.components[e].slotDescriptions&&(o.slots={}),i.slots[t].push(o),this.buildTree()},cloneComponent:function(){var t=this.selectedNode.component,e=Object(D._2)(!0,{},t),i=this.selectedNode.parentSlot.indexOf(t);this.selectedNode.parentSlot.splice(i,0,e),this.buildTree()},deleteComponent:function(){if(this.selectedNode&&"component"!==!this.selectedNode.type){var t=this.selectedNode.parentNode,e=this.selectedNode.parentSlot,i=this.selectedNode.parentSlotName,o=e.indexOf(this.selectedNode.component);o<0||(1===e.length&&0===o?delete t.component.slots[i]:e.splice(o,1),this.buildTree())}},moveComponent:function(t){var e=this.selectedNode.parentSlot,i=this.selectedNode.component,o=this.selectedNode.parentNode.id,n=e.indexOf(i),a=n+t;if(!(a<0||a===e.length)){var s=[n,a].sort();e.splice(s[0],2,e[s[1]],e[s[0]]),this.selectedNodeId=o+"-"+a,this.buildTree()}},validSubcomponents:function(t){var e=this,i=n()(this.components);return this.currentComponent&&this.currentComponent.slotDescriptions&&this.currentComponent.slotDescriptions[t]?this.currentComponent.slotDescriptions[t].allowedComponents?this.currentComponent.slotDescriptions[t].allowedComponents:this.currentComponent.slotDescriptions[t].deniedComponents?i.filter(function(i){return e.currentComponent.slotDescriptions[t].deniedComponents.indexOf(i)<0}):i:i}},computed:{selectedNode:function(){if(this.treeModel&&this.selectedNodeId)return function t(e,i){if(e&&i){if(e.id===i)return e;if(e.children){var o=!0,n=!1,a=void 0;try{for(var r,c=s()(e.children);!(o=(r=c.next()).done);o=!0){var l=t(r.value,i);if(l)return l.component.highlighted=!0,l}}catch(t){n=!0,a=t}finally{try{!o&&c.return&&c.return()}finally{if(n)throw a}}return null}}}(this.treeModel[0],this.selectedNodeId)},currentComponent:function(){return this.selectedNode?this.components[this.selectedNode.component.component]:null}},created:function(){var t=this,e=t.$store.getters["cards/copy"](this.uid);e?(t.card=e,t.card.tags||(t.card.tags=[]),t.buildTree()):(t.newCard=!0,t.card={title:"New Card",subtitle:"Subtitle",component:"HbCard",tags:[],bookmarked:!1,config:{},slots:{}},"list"===t.$route.query.type?(t.card.title="New List Card",t.card.slots={list:[{component:"HbList",config:{},slots:{items:[]}}]}):"tabs"===t.$route.query.type?(t.card.title="New Tabbed Card",t.card.slots={tabs:[{component:"HbTabs",config:{inverted:!0},slots:{tabs:[{component:"HbTab",config:{name:"tab1",label:"Tab 1"}},{component:"HbTab",config:{name:"tab2",label:"Tab 2"}}],tabpanes:[{component:"HbTabPane",config:{name:"tab1"},slots:{main:[]}},{component:"HbTabPane",config:{name:"tab2"},slots:{main:[]}}]}}]}):t.card.slots={main:[]},t.buildTree())}},C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-layout",{attrs:{view:"hHh Lpr fFf"}},[i("q-layout-header",[i("q-toolbar",[i("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:function(e){t.goBack()}}}),t._v(" "),i("q-toolbar-title",[t._v("\n        Card Designer\n      ")]),t._v(" "),i("q-btn",{attrs:{icon:"save",flat:"",label:"Save"},on:{click:function(e){t.save()}}})],1)],1),t._v(" "),i("q-layout-footer",[i("q-toolbar",[i("q-btn",{attrs:{icon:"format_indent_increase",flat:"",label:"Tree"},on:{click:function(e){t.layout.treepane=!t.layout.treepane}}}),t._v(" "),i("q-toolbar-title"),t._v(" "),i("q-btn",{attrs:{"icon-right":"build",flat:"",label:"Tools"},on:{click:function(e){t.layout.toolpane=!t.layout.toolpane}}})],1)],1),t._v(" "),i("q-layout-drawer",{attrs:{side:"left","content-class":"bg-grey-2 shadow-1 tree-drawer"},model:{value:t.layout.treepane,callback:function(e){t.$set(t.layout,"treepane",e)},expression:"layout.treepane"}},[i("div",[t.treeModel?i("q-tree",{ref:"tree",staticClass:"designer-tree",attrs:{nodes:t.treeModel,"node-key":"id",selected:t.selectedNodeId,"default-expand-all":""},on:{"update:selected":function(e){t.selectedNodeId=e}}}):t._e()],1)]),t._v(" "),i("q-layout-drawer",{attrs:{side:"right","content-class":"bg-grey-2 shadow-9 tools-drawer"},model:{value:t.layout.toolpane,callback:function(e){t.$set(t.layout,"toolpane",e)},expression:"layout.toolpane"}},[t.selectedNode?i("div",{staticClass:"properties"},[i("div",{staticClass:"node-header"},[i("div",{staticClass:"q-title"},[t._v(t._s(t.selectedNode.label))]),t._v(" "),i("div",{staticClass:"q-caption"},[t._v(t._s(t.selectedNode.type))])]),t._v(" "),"slot"===t.selectedNode.type?i("div",[i("div",{staticClass:"q-body-2"},[t._v(t._s(t.currentComponent.slotDescriptions[t.selectedNode.label].description))])]):t._e(),t._v(" "),"component"===t.selectedNode.type?i("div",[i("div",{staticClass:"q-body-2"},[t._v(t._s(t.currentComponent.description))]),t._v(" "),i("br"),t._v(" "),t.selectedNode&&"card"===t.selectedNode.id?i("div",[i("q-field",{staticClass:"config-field",attrs:{label:"Title",orientation:"vertical",helper:"The title of the card"}},[i("config-text",{model:{value:t.selectedNode.component.title,callback:function(e){t.$set(t.selectedNode.component,"title",e)},expression:"selectedNode.component.title"}})],1),t._v(" "),i("q-field",{staticClass:"config-field",attrs:{label:"Subtitle",orientation:"vertical",helper:"The subtitle of the card"}},[i("config-text",{model:{value:t.selectedNode.component.subtitle,callback:function(e){t.$set(t.selectedNode.component,"subtitle",e)},expression:"selectedNode.component.subtitle"}})],1),t._v(" "),i("q-field",{staticClass:"config-field",attrs:{label:"Tags",orientation:"vertical",helper:"The tags attached to the card - use object:<tag> and location:<tag> to make HABot present this card instead of the default generated one when asked about those tags"}},[i("q-chips-input",{attrs:{color:"secondary"},model:{value:t.selectedNode.component.tags,callback:function(e){t.$set(t.selectedNode.component,"tags",e)},expression:"selectedNode.component.tags"}})],1)],1):t._e(),t._v(" "),t._l(t.currentComponent.configDescriptions,function(e,o){return t.currentComponent&&t.currentComponent.configDescriptions&&t.selectedNode.config?i("q-field",{key:o,staticClass:"config-field",attrs:{label:o,orientation:"vertical",helper:e.description}},[i("div",{staticClass:"hidden"},[t._v(t._s(t.selectedNode.config[o]))]),t._v(" "),"boolean"===e.type?i("config-bool",{model:{value:t.selectedNode.config[o],callback:function(e){t.$set(t.selectedNode.config,o,e)},expression:"selectedNode.config[prop]"}}):"optiongroup"===e.type?i("config-option-group",{attrs:{options:e.options},model:{value:t.selectedNode.config[o],callback:function(e){t.$set(t.selectedNode.config,o,e)},expression:"selectedNode.config[prop]"}}):"item"===e.type?i("config-item",{model:{value:t.selectedNode.config[o],callback:function(e){t.$set(t.selectedNode.config,o,e)},expression:"selectedNode.config[prop]"}}):i("config-text",{model:{value:t.selectedNode.config[o],callback:function(e){t.$set(t.selectedNode.config,o,e)},expression:"selectedNode.config[prop]"}})],1):t._e()})],2):t._e()]):t._e(),t._v(" "),t.selectedNode&&"slot"===t.selectedNode.type?i("q-list",{attrs:{"no-border":""}},[i("q-list-header",[t._v("Add a component")]),t._v(" "),t._l(t.validSubcomponents(t.selectedNode.label),function(e){return i("q-item",{key:e,attrs:{"inset-separator":""}},[i("q-item-side",[i("q-btn",{staticClass:"bg-secondary text-white",attrs:{round:"",icon:"add"},on:{click:function(i){t.addComponent(t.selectedNode.label,e)}}})],1),t._v(" "),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v(t._s(e))]),t._v(" "),i("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(t.components[e].description))])],1)],1)})],2):t._e(),t._v(" "),t.selectedNode&&"component"===t.selectedNode.type&&t.currentComponent&&t.currentComponent.slotDescriptions?i("q-list",{attrs:{"no-border":""}},[i("q-list-header",[t._v("Slots")]),t._v(" "),t._l(t.currentComponent.slotDescriptions,function(e,o){return i("q-item",{key:o,attrs:{"inset-separator":""}},[i("q-item-side",[i("q-btn",{staticClass:"bg-secondary text-white",attrs:{round:"",icon:"add",disabled:t.selectedNode.component.slots[o]},on:{click:function(e){t.addSlot(o)}}})],1),t._v(" "),i("q-item-main",[i("q-item-tile",{attrs:{label:""}},[t._v(t._s(o))]),t._v(" "),i("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(e.description))])],1)],1)})],2):t._e(),t._v(" "),t.selectedNode?i("div",{staticClass:"actions"},["component"===t.selectedNode.type&&"HbCard"!==t.selectedNode.label?i("div",[i("q-btn-group",{attrs:{push:""}},[i("q-btn",{attrs:{push:"",icon:"delete",color:"red"},on:{click:function(e){t.deleteComponent()}}}),t._v(" "),i("q-btn",{attrs:{push:"",icon:"keyboard_arrow_up",color:"white","text-color":"black"},on:{click:function(e){t.moveComponent(-1)}}}),t._v(" "),i("q-btn",{attrs:{push:"",icon:"keyboard_arrow_down",color:"white","text-color":"black"},on:{click:function(e){t.moveComponent(1)}}}),t._v(" "),i("q-btn",{attrs:{push:"",icon:"content_copy",color:"secondary"},on:{click:function(e){t.cloneComponent()}}})],1)],1):t._e()]):t._e()],1),t._v(" "),i("div",{staticClass:"card-container"},[t.cardModel?i("hb-card",{ref:"card",attrs:{model:t.cardModel,menu:"designer"}}):t._e()],1)],1)},S=[];C._withStripped=!0;var k=!1;var z=function(t){k||i("KwAo")},_=Object(u.a)(E,C,S,!1,z,null,null);_.options.__file="src\\layouts\\designer\\CardDesigner.vue";e.default=_.exports},uStN:function(t,e){}},[0]);