webpackJsonp([2],{"+nwc":function(t,e){},0:function(t,e,o){t.exports=o("nplA")},"3Puz":function(t,e){},"5Tvc":function(t,e){},"7HFs":function(t,e){},KwAo:function(t,e){},MiNd:function(t,e){},N12Q:function(t,e){},QsxH:function(t,e){},R58i:function(t,e){},RP91:function(t,e){},TqJv:function(t,e){},VRCQ:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-toggle",{attrs:{"true-value":"ON","false-value":"OFF"},model:{value:t.itemState,callback:function(e){t.itemState=e},expression:"itemState"}})},i=[];n._withStripped=!0;var a=o("XyMi"),s=!1;var r=function(t){s||o("MiNd")},l=Object(a.a)({props:["model"],computed:{itemState:{get:function(){return this.$store.getters["items/itemState"](this.model.item)},set:function(t){this.$store.dispatch("items/sendCmd",{itemName:this.model.item,command:t})}}}},n,i,!1,r,null,null);l.options.__file="src\\components\\HbSwitch.vue";var c=l.exports,d={props:["model"],components:{HbSwitch:c},data:function(){return{config:this.model.config}},created:function(){},asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}},state:{get:function(){return this.$expr(this.model.config.state)}}}},u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-item",{attrs:{separator:"",tag:"label"}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v(t._s(t.label))]),t._v(" "),t.model.config.item?o("q-item-tile",{staticClass:"item-subtitle",attrs:{sublabel:""}},[t._v(t._s(t.model.config.item))]):t._e()],1),t._v(" "),o("q-item-side",{attrs:{right:""}},[t.model.config.state?o("big",{staticClass:"big-value"},[t._v(t._s(t.state))]):t._e(),t._v(" "),"Switch"===t.model.config.control?o("hb-switch",{attrs:{model:t.model.config}}):t._e()],1)],1)},p=[];u._withStripped=!0;var m=!1;var h=function(t){m||o("7HFs")},f=Object(a.a)(d,u,p,!1,h,"data-v-74c76e7b",null);f.options.__file="src\\components\\HbListItem.vue";var b=f.exports,v={props:["model"],data:function(){return{wait:!1}},computed:{itemState:{get:function(){return this.wait?this.next:parseFloat(this.$store.getters["items/itemState"](this.model.config.item))},set:function(t){var e=this;this.next=t,this.wait||(this.wait=!0,this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:t}),setTimeout(function(){e.wait=!1,setTimeout(function(){e.$store.dispatch("items/sendCmd",{itemName:e.model.config.item,command:e.next})})},500))}}}},g=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-slider",{attrs:{color:t.model.config.color,size:t.model.config.size,min:t.model.config.min,max:t.model.config.max,step:t.model.config.step},model:{value:t.itemState,callback:function(e){t.itemState=e},expression:"itemState"}})},_=[];g._withStripped=!0;var y=Object(a.a)(v,g,_,!1,null,null,null);y.options.__file="src\\components\\HbSlider.vue";var q=y.exports,w={props:["model"],data:function(){return{wait:!1}},computed:{itemState:{get:function(){return this.wait?this.next:parseFloat(this.$store.getters["items/itemState"](this.model.config.item))||0},set:function(t){var e=this;this.next=t,this.wait||(this.wait=!0,this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:t}),setTimeout(function(){e.wait=!1,setTimeout(function(){e.$store.dispatch("items/sendCmd",{itemName:e.model.config.item,command:e.next})})},500))}}}},C=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-knob",{attrs:{color:t.model.config.color,size:t.model.config.size,min:t.model.config.min,max:t.model.config.max,step:t.model.config.step},model:{value:t.itemState,callback:function(e){t.itemState=e},expression:"itemState"}})},k=[];C._withStripped=!0;var H=!1;var x=function(t){H||o("5Tvc")},N=Object(a.a)(w,C,k,!1,x,null,null);N.options.__file="src\\components\\HbKnob.vue";var S=N.exports,$={name:"HbCollapsible",props:["model"],components:{HbSwitch:c,HbSlider:q,HbKnob:S,HbCollapsible:L},data:function(){return{config:this.model.config}},created:function(){},asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}},sublabel:{get:function(){return this.$expr(this.model.config.sublabel)}}}},T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-collapsible",{attrs:{group:t.model.config.group,sparse:t.model.config.sparse,dense:t.model.config.dense,indent:t.model.config.indent,separator:""}},[o("template",{slot:"header"},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v(t._s(t.label))]),t._v(" "),t.model.config.sublabel?o("q-item-tile",{staticClass:"item-subtitle",attrs:{sublabel:""}},[t._v(t._s(t.sublabel))]):t._e()],1)],1),t._v(" "),t.model.slots&&t.model.slots.main?o("div",t._l(t.model.slots.main,function(t,e){return o(t.component,{key:t,tag:"component",attrs:{model:t,name:"collapsible-"+e}})})):t._e()],2)},A=[];T._withStripped=!0;var D=!1;var O=function(t){D||o("RP91")},Q=Object(a.a)($,T,A,!1,O,"data-v-60aaa0d0",null);Q.options.__file="src\\components\\HbCollapsible.vue";var L=Q.exports,P={components:{HbListItem:b,HbCollapsible:L},props:["model"],data:function(){return{}}},j=function(){var t=this.$createElement,e=this._self._c||t;return this.model.slots?e("q-list",{attrs:{link:this.model.config.link}},this._l(this.model.slots.items,function(t){return e(t.component,{key:t,tag:"component",attrs:{model:t}})})):this._e()},I=[];j._withStripped=!0;var E=Object(a.a)(P,j,I,!1,null,null,null);E.options.__file="src\\components\\HbList.vue";var M=E.exports,B={name:"HbTabs",props:["model"],components:{HbSwitch:c,HbSlider:q,HbKnob:S,HbList:M,HbCollapsible:L},data:function(){return{config:this.model.config}},created:function(){},asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}},sublabel:{get:function(){return this.$expr(this.model.config.sublabel)}}}},R=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.model.slots&&t.model.slots.tabs&&t.model.slots.tabpanes?o("q-tabs",{attrs:{inverted:t.model.config.inverted,align:t.model.config.align,color:t.model.config.color,glossy:t.model.config.glossy,"no-pane-border":t.model.config.noborder,position:t.model.config.position}},[t._l(t.model.slots.tabs,function(t,e){return o("q-tab",{key:t,attrs:{slot:"title",name:t.config.name,label:t.config.label,default:0===e},slot:"title"})}),t._v(" "),t._l(t.model.slots.tabpanes,function(e){return o("q-tab-pane",{key:e,attrs:{name:e.config.name,"keep-alive":""}},t._l(e.slots.main,function(t,e){return o(t.component,{key:t,tag:"component",attrs:{model:t,name:"tabpane-"+e}})}))})],2):t._e()},F=[];R._withStripped=!0;var G=!1;var z=function(t){G||o("h6av")},K=Object(a.a)(B,R,F,!1,z,"data-v-e6da08b0",null);K.options.__file="src\\components\\HbTabs.vue";var W={name:"HbCard",components:{HbList:M,HbSwitch:c,HbKnob:S,HbSlider:q,HbCollapsible:L,HbTabs:K.exports},props:["model","menu"],data:function(){return{}},methods:{addCardToDeck:function(){this.$q.notify("Not implemented")},addCardToDeckAndBookmark:function(){this.$q.notify("Not implemented")},bookmarkCard:function(){this.$q.notify("Not implemented")},editCard:function(){this.model.uid&&this.$router.push("/designer/"+this.model.uid)},forceRefresh:function(){this.$forceUpdate()}}},U=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.model?o("q-card",{class:{bigger:t.model.config&&t.model.config.bigger},attrs:{inline:""}},[t.model.imageUri?o("q-card-media",[o("img",{attrs:{src:t.model.imageUri}})]):t._e(),t._v(" "),o("q-card-title",[o("span",[t._v(t._s(t.model.title))]),t._v(" "),t.model.subtitle?o("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v(t._s(t.model.subtitle))]):t._e(),t._v(" "),o("div",{attrs:{slot:"right"},slot:"right"},[o("q-btn",{attrs:{slot:"right",round:"",flat:"",icon:"more_vert"},slot:"right"},[o("q-popover",{attrs:{anchor:"bottom right",self:"top right"}},[o("q-list",{staticClass:"no-border",attrs:{link:""}},["chat"!==this.menu||this.model.uid?t._e():o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.addCardToDeck()}}},[o("q-item-main",{attrs:{label:"Add to Card deck"}})],1),t._v(" "),"chat"!==this.menu||this.model.uid?t._e():o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.addCardToDeckAndBookmark()}}},[o("q-item-main",{attrs:{label:"Add & bookmark"}})],1),t._v(" "),"deck"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.editCard()}}},[o("q-item-main",{attrs:{label:"Edit"}})],1):t._e(),t._v(" "),"deck"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.bookmarkCard()}}},[o("q-item-main",{attrs:{label:"Bookmark"}})],1):t._e(),t._v(" "),"deck"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],on:{click:function(e){t.deleteCard()}}},[o("q-item-main",{attrs:{label:"Delete"}})],1):t._e(),t._v(" "),"bookmark"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.unbookmarkCard()}}},[o("q-item-main",{attrs:{label:"Remove bookmark"}})],1):t._e(),t._v(" "),"designer"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(e){t.forceRefresh()}}},[o("q-item-main",{attrs:{label:"Force refresh"}})],1):t._e()],1)],1)],1)],1)]),t._v(" "),t.model.slots&&t.model.slots.main?o("q-card-main",t._l(t.model.slots.main,function(t,e){return o(t.component,{key:t,tag:"component",attrs:{model:t,name:"card-main-"+e}})})):t._e(),t._v(" "),t.model.slots&&t.model.slots.list&&t.model.slots.list[0]&&"HbList"===t.model.slots.list[0].component?o("hb-list",{attrs:{model:t.model.slots.list[0]}}):t._e(),t._v(" "),t.model.slots&&t.model.slots.tabs&&t.model.slots.tabs[0]&&"HbTabs"===t.model.slots.tabs[0].component?o("hb-tabs",{attrs:{model:t.model.slots.tabs[0]}}):t._e()],1):t._e()},V=[];U._withStripped=!0;var Y=!1;var J=function(t){Y||o("uStN")},X=Object(a.a)(W,U,V,!1,J,null,null);X.options.__file="src\\components\\HbCard.vue";e.a=X.exports},e8cx:function(t,e){t.exports={HbCard:{description:"A card",configDescriptions:{bigger:{type:"boolean",description:"Make the card a little bigger (except on phones where it will always span the entire screen width)"}},slotDescriptions:{main:{description:"The main area of the card",deniedComponents:["HbCard","HbList","HbListItem","HbListHeader","HbTab","HbTabPane"]},list:{description:"A slot for hosting a list component (HbList)",allowedComponents:["HbList"]},tabs:{description:"A slot for hosting a tabs component (HbTabs)",allowedComponents:["HbTabs"]},right:{description:"The area on the right of the card title along the context menu"}}},HbList:{description:"Container for a list of HbListItems",configDescriptions:{link:{type:"boolean",description:"Display the list items in gray when hovering on desktops"}},slotDescriptions:{items:{description:"Contains the list items",allowedComponents:["HbListItem","HbCollapsible"]}}},HbListItem:{description:"A list item",configDescriptions:{label:{type:"text",description:"The label of the item"},item:{type:"item",description:"The item controlled by this list item"},state:{type:"text",description:"The state to display on the right"},control:{type:"optiongroup",description:"The type of control displayed on the right",options:[{value:"",label:"Default"},{value:"Switch",label:"Switch"}]}}},HbCollapsible:{description:"A collapsible, useable both in a HbList and standalone",configDescriptions:{label:{type:"text",description:"The label in the header"},sublabel:{type:"text",description:"The sublabel in the header"},group:{type:"text",description:"Use the same group identifier on several HbCollapsibles to make a group act as an accordion"},indent:{type:"boolean",description:"Indent the collapsible's contents (for example to build a hierarchy)"}},slotDescriptions:{main:{description:"The main area of the collapsible",deniedComponents:["HbCard","HbList","HbListItem","HbListHeader"]}}},HbTabs:{description:"A set of tabs",configDescriptions:{align:{type:"optiongroup",description:"Alignment of the tabs in the bar",options:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"justify",label:"Justify"}]},inverted:{type:"boolean",description:"Invert the background of the tab"},position:{type:"optiongroup",description:"Position the tab above or below the tab panes",options:[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"}]},color:{type:"color",description:"Color of the tab header's background"},glossy:{type:"boolean",description:"Apply a glossy effect to the tab header"},noborder:{type:"boolean",description:"Don't draw a border around the tab panes"}},slotDescriptions:{tabs:{description:"The collection of tabs",allowedComponents:["HbTab"]},tabpanes:{description:"The collection of tab panes which must match the tabs",allowedComponents:["HbTabPane"]}}},HbTab:{description:"A tab - use in HbTabs and be sure to add a HbTabPane with the same name in the tabpanes slot",configDescriptions:{name:{type:"text",description:"Name of the tab - should match the name of the corresponding HbTabPane in the tabpanes slot"},label:{type:"text",description:"Label of the tab"}}},HbTabPane:{description:"A tab pane - use in HbTabs's tabpanes slot and be sure to match the name with a HbTab",configDescriptions:{name:{type:"text",description:"Name of the tab pane - should match the name of the corresponding HbTab in the tabs slot"}},slotDescriptions:{main:{description:"The main area of the tab pane"}}},HbSlider:{description:"A slider operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this list item"}}},HbKnob:{description:"A knob operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this list item"}}}}},feqG:function(t,e){},h6av:function(t,e){},nplA:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};o.d(n,"objectSet",function(){return U}),o.d(n,"locationSet",function(){return V}),o.d(n,"itemState",function(){return Y});var i={};o.d(i,"updateAll",function(){return J}),o.d(i,"updateOne",function(){return X}),o.d(i,"setReady",function(){return Z});var a={};o.d(a,"initialLoad",function(){return it}),o.d(a,"watchEvents",function(){return at}),o.d(a,"sendCmd",function(){return st});var s=o("Dd8w"),r=o.n(s),l=(o("L4dm"),o("hAPP"),o("3Puz"),o("N12Q"),o("/5sW")),c=o("7109"),d=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"q-app"}},[e("router-view")],1)},u=[];d._withStripped=!0;var p=o("XyMi"),m=!1;var h=function(t){m||o("QsxH")},f=Object(p.a)({name:"App"},d,u,!1,h,null,null);f.options.__file="src\\App.vue";var b=f.exports,v=o("/ocq"),g=o("mvHQ"),_=o.n(g),y=o("VRCQ"),q={name:"PageChat",components:{HbCard:y.a},data:function(){return{text:"",chats:[{messages:[],card:!1,finished:!1}],inputAfter:[{icon:"arrow_send",content:!0,handler:this.send}]}},created:function(){var t=this;if(this.$route.redirectedFrom&&0===this.$route.redirectedFrom.indexOf("/notification#")){var e=this.$route.redirectedFrom.replace("/notification#","");this.pushNotificationReceived({data:e})}else this.$http.get("/rest/habot/greet").then(function(e){t.language=e.data.language,t.language||(t.language="en"),t.chats[0].messages.push({id:new Date,name:"HABot",text:[e.data.answer],avatar:"statics/icons/icon-192x192.png",stamp:c.Y.formatDate(new Date,"HH:mm")})}).catch(function(e){t.chats[0].messages.push({id:new Date,name:"HABot",text:[_()(e)],avatar:"statics/icons/icon-192x192.png",bgColor:"red",stamp:c.Y.formatDate(new Date,"HH:mm")})})},mounted:function(){navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",this.pushNotificationReceived)},methods:{pushNotificationReceived:function(t){var e=this.chats[this.chats.length-1];e.finished&&(this.chats.push({messages:[],card:null,finished:!1}),e=this.chats[this.chats.length-1]),e.messages.push({id:new Date,name:"HABot",text:[t.data],avatar:"statics/icons/icon-192x192.png",stamp:c.Y.formatDate(new Date,"HH:mm")})},send:function(){var t=this,e=this.chats[this.chats.length-1];e.messages.push({id:new Date,name:"You",text:[this.text],avatar:"statics/avatar.png",sent:!0,stamp:c.Y.formatDate(new Date,"HH:mm")}),this.$http.post("/rest/habot/chat",this.text,{headers:{"Content-Type":"text/plain","Accept-Language":this.language}}).then(function(o){o.data.answer&&e.messages.push({id:new Date,name:"HABot",text:[o.data.answer],avatar:"statics/icons/icon-192x192.png",stamp:c.Y.formatDate(new Date,"HH:mm")}),o.data.card&&(e.card=o.data.card,e.card.uid||(e.card.config={bigger:!0}),e.finished=!0,t.chats.push({messages:[],card:null,finished:!1})),e.intent=o.data.intent}).catch(function(t){e.messages.push({id:new Date,name:"HABot",text:[_()(t)],avatar:"statics/icons/icon-192x192.png",bgColor:"red",stamp:c.Y.formatDate(new Date,"HH:mm")})}),this.text="",this.$q.platform.is.mobile&&this.$refs.input.blur()},keyUp:function(t){13===t.keyCode&&(this.send(),this.$q.platform.is.mobile&&t.currentTarget.blur())},onChatAreaResized:function(t){console.log("Resize: "+_()(t)),this.scrollToBottom()},scrollToBottom:function(){var t=document.getElementById("q-app");console.log("scrollToBottom: "+t.scrollTop+" -> "+t.scrollHeight),t.scrollTop=t.scrollHeight,console.log("scrollToBottom (document.body): "+t.scrollTop+" -> "+t.scrollHeight),document.body.scrollTop=document.body.scrollHeight}},beforeDestroyed:function(){this.$q.events.$off("chat-send",this.chatReceived),navigator.serviceWorker&&navigator.serviceWorker.removeEventListener("message",this.pushNotificationReceived)}},w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-page",{staticClass:"row justify-center",attrs:{padding:""}},[o("div",{staticStyle:{width:"600px","margin-top":"100px"}},t._l(t.chats,function(e){return o("div",{key:e,ref:"chat",refInFor:!0,staticClass:"chat-area"},[o("q-resize-observable",{on:{resize:t.onChatAreaResized}}),t._v(" "),o("q-window-resize-observable",{on:{resize:t.scrollToBottom}}),t._v(" "),t._l(e.messages,function(t){return o("q-chat-message",{key:t,attrs:{label:t.label,sent:t.sent,"text-color":t.textColor,"bg-color":t.bgColor,name:t.name,avatar:t.avatar,text:t.text,stamp:t.stamp}})}),t._v(" "),e.card&&"HbCard"===e.card.component?o("hb-card",{attrs:{model:e.card,menu:"chat"}}):t._e(),t._v(" "),e.card&&"HbDumpIntentCard"===e.card.component?o("q-card",[o("q-card-title",[t._v("\n          Intent: "+t._s(e.intent.name)+"\n          "),o("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[t._v("Sorry, this intent is currently unsupported :(")])]),t._v(" "),o("q-list",[o("q-list-header",[t._v("Entities")]),t._v(" "),t._l(e.intent.entities,function(e,n){return o("q-item",{key:e,attrs:{link:"",tag:"label"}},[o("q-item-main",{attrs:{label:n}}),t._v(" "),o("q-item-side",{attrs:{right:""}},[o("big",[t._v(t._s(e))])],1)],1)})],2)],1):t._e()],2)})),t._v(" "),o("q-page-sticky",{staticClass:"chat-input-sticky",attrs:{position:"bottom"}},[o("q-toolbar",{staticClass:"chat-input-toolbar bg-grey-3 shadow-up-3"},[o("q-input",{ref:"input",staticClass:"full-width",attrs:{placeholder:"Ask me about your home",after:t.inputAfter},on:{keyup:t.keyUp},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)],1)},C=[];w._withStripped=!0;var k=!1;var H=function(t){k||o("feqG")},x=Object(p.a)(q,w,C,!1,H,null,null);x.options.__file="src\\pages\\Chat.vue";var N=x.exports,S=o("BO1k"),$=o.n(S);var T={data:function(){return{speechApi:"google"}},methods:{setGoogleApiKey:function(){var t=this;t.$q.dialog({title:"Set the Google Cloud API key",message:"You need to subscribe to the (paid) Google Cloud Platform to use this feature. There is a trial period and a free tier, which might be enough for casual use. Paste the API key below:",prompt:{model:"",type:"text"},cancel:!0}).then(function(e){t.$q.localStorage.set("habot.googleApiKey",e),t.$q.notify({type:"info",message:"API Key Set for this device"})}).catch(function(){})},enableNotifications:function(){var t=this,e=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator?"https:"===window.location.protocol||e?navigator.serviceWorker.getRegistration().then(function(e){return"showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(t.$q.notify("Notifications are blocked - please check the browser's site settings"),void t.$q.loading.hide()):"PushManager"in window?void e.pushManager.getSubscription().then(function(o){var n=function(e){t.$q.loading.show({message:"Subscribing to notifications..."}),t.$http.post("/rest/habot/notifications/subscribe",_()(e),{headers:{"Content-Type":"text/plain"}}).then(function(e){t.$q.notify({type:"positive",message:"Success! You should receive a test notification!"}),t.$q.loading.hide()}).catch(function(e){t.$q.notify("Error while sending the subscription to the openHAB server: "+e),t.$q.loading.hide()})};t.$q.loading.show({message:"Initializing, please wait..."}),o?n(o):t.$http.get("/rest/habot/notifications/vapid").then(function(o){var i=function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(e),n=new Uint8Array(o.length),i=0;i<o.length;++i)n[i]=o.charCodeAt(i);return n}(o.data);t.$q.loading.show({message:"Preparing the subscription... Please allow the notifications if prompted!",delay:1e3}),e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:i}).then(function(t){n(t)}).catch(function(e){"denied"===Notification.permission?t.$q.notify("Notifications are blocked - please check the browser's site settings"):t.$q.notify("Error while subscribing to push notifications: "+e),t.$q.loading.hide()})}).catch(function(e){t.$q.notify("Error while getting the public VAPID key from the server: "+e),t.$q.loading.hide()})}):(t.$q.notify("Push messaging isn't supported."),void t.$q.loading.hide()):(t.$q.notify("Notifications aren't supported."),void t.$q.loading.hide())}).catch(function(e){t.$q.notify("Error while registering the service worker: "+e)}):t.$q.notify("Sorry, HTTPS is required for the notifications to work"):t.$q.notify("Sorry, notifications are not supported on this browser")},refreshApp:function(){var t=this;this.$q.dialog({title:"Refresh app",message:"This will empty the cache and reload the newest version of the app from the server. You will need to enable push notifications again. Continue?",cancel:!0}).then(function(e){t.$q.loading.show({delay:0,message:"Refreshing the app..."}),setTimeout(function(){navigator.serviceWorker.getRegistrations().then(function(t){var e=!0,o=!1,n=void 0;try{for(var i,a=$()(t);!(e=(i=a.next()).done);e=!0){i.value.unregister()}}catch(t){o=!0,n=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw n}}location.reload()})},1e3)})}}},A=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"layout-padding",staticStyle:{"max-width":"600px"}},[o("br"),t._v(" "),o("q-list",{attrs:{link:""}},[o("q-list-header",[t._v("Speech recognition API")]),t._v(" "),o("q-item",{attrs:{tag:"label"}},[o("q-item-side",[o("q-radio",{attrs:{val:"google"},model:{value:t.speechApi,callback:function(e){t.speechApi=e},expression:"speechApi"}})],1),t._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v("Google Cloud Speech")]),t._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[t._v("Uses Google services, requires an API key.")])],1),t._v(" "),o("q-item-side",{attrs:{right:""}},[o("q-btn",{attrs:{color:"primary",flat:""},on:{click:function(e){t.setGoogleApiKey()}}},[t._v("Setup")])],1)],1),t._v(" "),o("q-item",{attrs:{tag:"label",disabled:""}},[o("q-item-side",[o("q-radio",{attrs:{val:"browser",disable:""},model:{value:t.speechApi,callback:function(e){t.speechApi=e},expression:"speechApi"}})],1),t._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v("Browser built-in recognition")]),t._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[t._v("Uses the browser functionality if supported (not implemented).")])],1)],1),t._v(" "),o("q-item",{attrs:{tag:"label",disabled:""}},[o("q-item-side",[o("q-radio",{attrs:{val:"browser",disable:""},model:{value:t.speechApi,callback:function(e){t.speechApi=e},expression:"speechApi"}})],1),t._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v("Send to openHAB speech-to-text")]),t._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[t._v("Sends the audio to openHAB for local processing (not implemented).")])],1)],1),t._v(" "),o("q-list-header",[t._v("Item tagging")]),t._v(" "),o("q-item",{attrs:{disabled:""}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v("View item tags")]),t._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[t._v("View and set the tags associated with your items. (todo)")])],1)],1),t._v(" "),o("q-list-header",[t._v("Notifications")]),t._v(" "),o("q-item",{nativeOn:{click:function(e){t.enableNotifications()}}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v("Enable/test push notifications")]),t._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[t._v("Subscribe to push notifications on this device, and check whether notifications are received.")])],1)],1),t._v(" "),o("q-list-header",[t._v("About")]),t._v(" "),o("q-item",{attrs:{disabled:""}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v("About HABot")])],1)],1),t._v(" "),o("q-item",{nativeOn:{click:function(e){t.refreshApp()}}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v("Refresh the application")]),t._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[t._v("Empty and refresh the application cache to upgrade the app.")])],1)],1)],1)],1)},D=[];A._withStripped=!0;var O=Object(p.a)(T,A,D,!1,null,null,null);O.options.__file="src\\pages\\Settings.vue";var Q=O.exports,L={components:{CardDesigner:o("pJtG").default,HbCard:y.a},data:function(){return{objects:[],locations:[],cards:[]}},methods:{addCard:function(){this.$router.push("/designer/"+Object(c._2)())},addListCard:function(){this.$router.push("/designer/"+Object(c._2)()+"?type=list")},addTabbedCard:function(){this.$router.push("/designer/"+Object(c._2)()+"?type=tabs")}},computed:{objectSet:{get:function(){return this.$store.getters["items/objectSet"].map(function(t){return{label:t,value:t}})}},locationSet:{get:function(){return this.$store.getters["items/locationSet"].map(function(t){return{label:t,value:t}})}}},created:function(){var t=this;this.$http.get("/rest/habot/cards").then(function(e){t.cards=e.data})}},P=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"row filters bg-grey-2 shadow-2"},[o("q-select",{staticClass:"col-sm-6",attrs:{multiple:"",filter:"",chips:"",color:"secondary",options:t.objectSet,"float-label":"Objects"},model:{value:t.objects,callback:function(e){t.objects=e},expression:"objects"}}),t._v(" "),o("q-select",{staticClass:"col-sm-6",attrs:{multiple:"",filter:"",chips:"",color:"secondary",options:t.locationSet,"float-label":"Locations"},model:{value:t.locations,callback:function(e){t.locations=e},expression:"locations"}})],1),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"hb-cards"},t._l(t.cards,function(t){return o("HbCard",{key:t.uid,tag:"component",attrs:{model:t,menu:"deck"}})}))]),t._v(" "),o("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[o("q-fab",{attrs:{color:"secondary",icon:"add",direction:"up"}},[o("q-fab-action",{attrs:{color:"secondary",icon:"aspect_ratio"},on:{click:t.addCard}}),t._v(" "),o("q-fab-action",{attrs:{color:"secondary",icon:"list"},on:{click:t.addListCard}}),t._v(" "),o("q-fab-action",{attrs:{color:"secondary",icon:"tab"},on:{click:t.addTabbedCard}})],1)],1)],1)},j=[];P._withStripped=!0;var I=!1;var E=function(t){I||o("TqJv")},M=Object(p.a)(L,P,j,!1,E,null,null);M.options.__file="src\\pages\\CardDeck.vue";var B=[{path:"/",component:function(){return o.e(0).then(o.bind(null,"lfHO"))},children:[{path:"/",redirect:"/chat"},{path:"/chat",component:N,meta:{title:"Chat with HABot"}},{path:"/settings",component:Q,meta:{title:"Settings"}},{path:"/cards/deck",component:M.exports,meta:{title:"Card deck"}},{path:"/notification",redirect:function(t){return{path:"/chat",hash:"",query:"",params:{action:t.hash}}}}]},{path:"/designer/:uid",component:function(){return new Promise(function(t){t()}).then(o.bind(null,"pJtG"))},props:!0},{path:"*",component:function(){return o.e(1).then(o.bind(null,"c5Mg"))}}],R=o("NYxO"),F=o("lHA8"),G=o.n(F),z=o("Gu7T"),K=o.n(z),W=function(t){return[].concat(K()(new G.a(t)))},U=function(t){var e=t.items.map(function(t){return t.tags||[]}).reduce(function(t,e){return t.concat(e)}).filter(function(t){return 0===t.indexOf("object:")}).map(function(t){return t.replace("object:","")});return W(e)},V=function(t){if(!t.items)return[];var e=t.items.map(function(t){return t.tags||[]}).reduce(function(t,e){return t.concat(e)}).filter(function(t){return 0===t.indexOf("location:")}).map(function(t){return t.replace("location:","")});return W(e)},Y=function(t){return function(e){if(!t.items)return[];var o=t.items.find(function(t){return t.name===e});return o&&o.state?o.state:null}},J=function(t,e){console.log("Loaded "+e.length+" items"),t.items=e},X=function(t,e){console.log("Updating "+e.itemName+" state to "+e.newState),t.items.find(function(t){return t.name===e.itemName}).state=e.newState},Z=function(t){t.ready=!0},tt=o("//Fk"),et=o.n(tt),ot=o("mtWM"),nt=o.n(ot),it=function(t){return t.state.items.length?et.a.resolve():(console.log("Fetching initial state of all items..."),nt.a.get("/rest/items").then(function(e){return t.commit("updateAll",e.data),t.commit("setReady"),t.dispatch("watchEvents"),et.a.resolve()}))},at=function(t){new EventSource("/rest/events").onmessage=function(e){var o=JSON.parse(e.data);if(o.type.indexOf("ItemStateEvent")>=0){var n=JSON.parse(o.payload),i=o.topic.split("/")[2];t.commit("updateOne",{itemName:i,newState:n.value})}}},st=function(t,e){console.log("Sending command to "+e.itemName+": "+e.command),nt.a.post("/rest/items/"+e.itemName,e.command,{headers:{"Content-Type":"text/plain"}})},rt={namespaced:!0,state:{ready:!1,items:[]},getters:n,mutations:i,actions:a};l.a.use(R.a);var lt=new R.a.Store({modules:{items:rt}});l.a.use(v.a);var ct=new v.a({mode:"hash",base:"/",scrollBehavior:function(){return{y:0}},routes:B});ct.beforeEach(function(t,e,o){lt.dispatch("items/initialLoad").then(function(){return o()})});var dt=ct,ut=o("fH43"),pt=o.n(ut),mt=o("PlbA"),ht=o.n(mt),ft=o("v5o6"),bt=o.n(ft);l.a.config.productionTip=!1,l.a.use(c.Z,{components:{QLayout:c.y,QLayoutHeader:c.B,QLayoutFooter:c.A,QLayoutDrawer:c.z,QPageContainer:c.I,QPage:c.H,QPageSticky:c.J,QFab:c.n,QFabAction:c.o,QToolbar:c.T,QToolbarTitle:c.U,QModal:c.E,QModalLayout:c.F,QBtnGroup:c.g,QBtn:c.f,QIcon:c.q,QList:c.C,QListHeader:c.D,QItem:c.s,QItemMain:c.t,QItemSeparator:c.u,QItemSide:c.v,QItemTile:c.w,QCollapsible:c.m,QTabs:c.R,QTab:c.P,QTabPane:c.Q,QField:c.p,QSelect:c.N,QInput:c.r,QOptionGroup:c.G,QChatMessage:c.l,QResizeObservable:c.M,QWindowResizeObservable:c.W,QCard:c.h,QCardTitle:c.k,QPopover:c.K,QCardMain:c.i,QCardMedia:c.j,QRadio:c.L,QToggle:c.S,QKnob:c.x,QSlider:c.O,QTree:c.V},directives:{Ripple:c.X,CloseOverlay:c.a},plugins:{Notify:c.e,Dialog:c.b,Loading:c.c,LocalStorage:c.d}});var vt=r()({el:"#q-app",router:dt,store:lt},b),gt=[];gt.push(function(t){t.Vue.prototype.$http=nt.a}),gt.push(function(t){t.app,t.router;var e=t.store,o=t.Vue;o.use(ht.a),o.prototype.$jexl=pt.a,o.prototype.$expr=function(t){if(!t)return null;if(!t.startsWith("="))return t;try{return pt.a.eval(t.substring(1),e.state.items).then(function(t){return t}).catch(function(t){return t.message})}catch(t){return t}}}),gt.forEach(function(t){return t({app:vt,router:dt,store:lt,Vue:l.a})}),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&window.navigator.standalone&&document.addEventListener("DOMContentLoaded",function(){bt.a.attach(document.body)},!1),new l.a(vt)},pJtG:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("fZjL"),i=o.n(n),a=o("BO1k"),s=o.n(a),r=o("VRCQ"),l=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-input",{attrs:{value:t.value},on:{input:function(e){t.$emit("input",e)}}})},c=[];l._withStripped=!0;var d=o("XyMi"),u=Object(d.a)({name:"ConfigText",props:["value"]},l,c,!1,null,null,null);u.options.__file="src\\components\\designer\\ConfigText.vue";var p=u.exports,m=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-toggle",{attrs:{value:t.value},on:{input:function(e){t.$emit("input",e)}}})},h=[];m._withStripped=!0;var f=Object(d.a)({name:"ConfigBool",props:["value"]},m,h,!1,null,null,null);f.options.__file="src\\components\\designer\\ConfigBool.vue";var b=f.exports,v=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-option-group",{attrs:{value:t.value,options:t.options},on:{input:function(e){t.$emit("input",e)}}})},g=[];v._withStripped=!0;var _=Object(d.a)({name:"ConfigOptionGroup",props:["value","options"]},v,g,!1,null,null,null);_.options.__file="src\\components\\designer\\ConfigOptionGroup.vue";var y=_.exports,q=function(){var t=this,e=t.$createElement;return(t._self._c||e)("q-select",{attrs:{value:t.value,options:t.items,filter:""},on:{input:function(e){t.$emit("input",e)}}})},w=[];q._withStripped=!0;var C=Object(d.a)({name:"ConfigItem",props:["value"],data:function(){return{items:this.$store.state.items.items.map(function(t){return{value:t.name,label:t.name,sublabel:t.label,stamp:t.type}})}}},q,w,!1,null,null,null);C.options.__file="src\\components\\designer\\ConfigItem.vue";var k=C.exports,H=o("/5sW"),x=o("7109"),N=o("e8cx"),S=o.n(N);var $={name:"CardDesigner",props:["uid"],components:{HbCard:r.a,ConfigText:p,ConfigBool:b,ConfigOptionGroup:y,ConfigItem:k},data:function(){return{components:S.a,layout:{treepane:!0,toolpane:!0},cardModel:null,treeModel:null,selectedNodeId:"card",newCard:!1}},methods:{goBack:function(){this.$router.push("/cards/deck")},save:function(){var t=this;this.card.uid=this.uid,(this.newCard?this.$http.post("/rest/habot/cards/",this.card):this.$http.put("/rest/habot/cards/"+this.uid,this.card)).then(function(){t.$q.notify({type:"positive",message:"Card saved"})}).catch(function(e){t.$q.notify(e.message)})},redrawCard:function(){this.$refs.card.$forceUpdate()},buildTree:function(){var t=this;this.flattenedComponents={},this.treeModel=null,this.cardModel=null,H.a.nextTick(function(){t.cardModel=t.card,t.treeModel=[function t(e,o){var n={id:o,type:"component",component:e,icon:"widgets",label:e.component};if(e.title&&(n.title=e.title),e.subtitle&&(n.subtitle=e.subtitle),e.config||(e.config={}),n.config=e.config,e.slots)for(var i in n.children=[],e.slots){var a=o+"-"+i,r={id:a,label:i,component:e,type:"slot",icon:"view_compact",tickable:!1,children:[],parentNode:n},l=0,c=!0,d=!1,u=void 0;try{for(var p,m=s()(e.slots[i]);!(c=(p=m.next()).done);c=!0){var h=t(p.value,a+"-"+l++);h.parentNode=r,h.parentSlotName=i,h.parentSlot=e.slots[i],r.children.push(h)}}catch(t){d=!0,u=t}finally{try{!c&&m.return&&m.return()}finally{if(d)throw u}}n.children.push(r)}return n}(t.card,"card")]})},addSlot:function(t){var e=this.selectedNode.component;e.slots||(e.slots={}),e.slots[t]=[],this.buildTree()},addComponent:function(t,e){var o=this.selectedNode.component,n={component:e,config:{}};o.slots[t]||(o.slots[t]=[]),this.components[e].slotDescriptions&&(n.slots={}),o.slots[t].push(n),this.buildTree()},cloneComponent:function(){var t=this.selectedNode.component,e=Object(x._0)(!0,{},t),o=this.selectedNode.parentSlot.indexOf(t);this.selectedNode.parentSlot.splice(o,0,e),this.buildTree()},deleteComponent:function(){if(this.selectedNode&&"component"!==!this.selectedNode.type){var t=this.selectedNode.parentNode,e=this.selectedNode.parentSlot,o=this.selectedNode.parentSlotName,n=e.indexOf(this.selectedNode.component);n<0||(1===e.length&&0===n?delete t.component.slots[o]:e.splice(n,1),this.buildTree())}},moveComponent:function(t){var e=this.selectedNode.parentSlot,o=this.selectedNode.component,n=this.selectedNode.parentNode.id,i=e.indexOf(o),a=i+t;if(!(a<0||a===e.length)){var s=[i,a].sort();e.splice(s[0],2,e[s[1]],e[s[0]]),this.selectedNodeId=n+"-"+a,this.buildTree()}},validSubcomponents:function(t){var e=this,o=i()(this.components);return this.currentComponent&&this.currentComponent.slotDescriptions&&this.currentComponent.slotDescriptions[t]?this.currentComponent.slotDescriptions[t].allowedComponents?this.currentComponent.slotDescriptions[t].allowedComponents:this.currentComponent.slotDescriptions[t].deniedComponents?o.filter(function(o){return e.currentComponent.slotDescriptions[t].deniedComponents.indexOf(o)<0}):o:o}},computed:{selectedNode:function(){if(this.treeModel&&this.selectedNodeId)return function t(e,o){if(e&&o){if(e.id===o)return e;if(e.children){var n=!0,i=!1,a=void 0;try{for(var r,l=s()(e.children);!(n=(r=l.next()).done);n=!0){var c=t(r.value,o);if(c)return c.component.highlighted=!0,c}}catch(t){i=!0,a=t}finally{try{!n&&l.return&&l.return()}finally{if(i)throw a}}return null}}}(this.treeModel[0],this.selectedNodeId)},currentComponent:function(){return this.selectedNode?this.components[this.selectedNode.component.component]:null}},created:function(){var t=this;this.$http.get("/rest/habot/cards/"+this.uid).then(function(e){t.card=e.data,t.buildTree()}).catch(function(e){404===e.response.status&&(t.newCard=!0,t.card={title:"New Card",subtitle:"Subtitle",component:"HbCard",config:{},slots:{}},"list"===t.$route.query.type?(t.card.title="New List Card",t.card.slots={list:[{component:"HbList",config:{},slots:{items:[]}}]}):"tabs"===t.$route.query.type?(t.card.title="New Tabbed Card",t.card.slots={tabs:[{component:"HbTabs",config:{inverted:!0},slots:{tabs:[{component:"HbTab",config:{name:"tab1",label:"Tab 1"}},{component:"HbTab",config:{name:"tab2",label:"Tab 2"}}],tabpanes:[{component:"HbTabPane",config:{name:"tab1"},slots:{main:[]}},{component:"HbTabPane",config:{name:"tab2"},slots:{main:[]}}]}}]}):t.card.slots={main:[]},t.buildTree())})}},T=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("q-layout",{attrs:{view:"hHh Lpr fFf"}},[o("q-layout-header",[o("q-toolbar",[o("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:function(e){t.goBack()}}}),t._v(" "),o("q-toolbar-title",[t._v("\n        Card Designer\n      ")]),t._v(" "),o("q-btn",{attrs:{icon:"save",flat:""},on:{click:function(e){t.save()}}})],1)],1),t._v(" "),o("q-layout-footer",[o("q-toolbar",[o("q-btn",{attrs:{icon:"format_indent_increase",flat:""},on:{click:function(e){t.layout.treepane=!t.layout.treepane}}}),t._v(" "),o("q-toolbar-title"),t._v(" "),o("q-btn",{attrs:{icon:"build",flat:""},on:{click:function(e){t.layout.toolpane=!t.layout.toolpane}}})],1)],1),t._v(" "),o("q-layout-drawer",{attrs:{side:"left","content-class":"bg-grey-2 shadow-1 tree-drawer"},model:{value:t.layout.treepane,callback:function(e){t.$set(t.layout,"treepane",e)},expression:"layout.treepane"}},[o("div",[t.treeModel?o("q-tree",{ref:"tree",staticClass:"designer-tree",attrs:{nodes:t.treeModel,"node-key":"id",selected:t.selectedNodeId,"default-expand-all":""},on:{"update:selected":function(e){t.selectedNodeId=e}}}):t._e()],1)]),t._v(" "),o("q-layout-drawer",{attrs:{side:"right","content-class":"bg-grey-2 shadow-9 tools-drawer"},model:{value:t.layout.toolpane,callback:function(e){t.$set(t.layout,"toolpane",e)},expression:"layout.toolpane"}},[t.selectedNode?o("div",{staticClass:"properties"},[o("div",{staticClass:"node-header"},[o("div",{staticClass:"q-title"},[t._v(t._s(t.selectedNode.label))]),t._v(" "),o("div",{staticClass:"q-caption"},[t._v(t._s(t.selectedNode.type))])]),t._v(" "),"slot"===t.selectedNode.type?o("div",[o("div",{staticClass:"q-body-2"},[t._v(t._s(t.currentComponent.slotDescriptions[t.selectedNode.label].description))])]):t._e(),t._v(" "),"component"===t.selectedNode.type?o("div",[o("div",{staticClass:"q-body-2"},[t._v(t._s(t.currentComponent.description))]),t._v(" "),o("br"),t._v(" "),t._l(t.currentComponent.configDescriptions,function(e,n){return t.currentComponent&&t.currentComponent.configDescriptions&&t.selectedNode.config?o("q-field",{key:n,staticClass:"config-field",attrs:{label:n,orientation:"vertical",helper:e.description}},[o("div",{staticClass:"hidden"},[t._v(t._s(t.selectedNode.config[n]))]),t._v(" "),"boolean"===e.type?o("config-bool",{model:{value:t.selectedNode.config[n],callback:function(e){t.$set(t.selectedNode.config,n,e)},expression:"selectedNode.config[prop]"}}):"optiongroup"===e.type?o("config-option-group",{attrs:{options:e.options},model:{value:t.selectedNode.config[n],callback:function(e){t.$set(t.selectedNode.config,n,e)},expression:"selectedNode.config[prop]"}}):"item"===e.type?o("config-item",{model:{value:t.selectedNode.config[n],callback:function(e){t.$set(t.selectedNode.config,n,e)},expression:"selectedNode.config[prop]"}}):o("config-text",{model:{value:t.selectedNode.config[n],callback:function(e){t.$set(t.selectedNode.config,n,e)},expression:"selectedNode.config[prop]"}})],1):t._e()})],2):t._e()]):t._e(),t._v(" "),t.selectedNode&&"slot"===t.selectedNode.type?o("q-list",{attrs:{"no-border":""}},[o("q-list-header",[t._v("Add a component")]),t._v(" "),t._l(t.validSubcomponents(t.selectedNode.label),function(e){return o("q-item",{key:e,attrs:{"inset-separator":""}},[o("q-item-side",[o("q-btn",{staticClass:"bg-secondary text-white",attrs:{round:"",icon:"add"},on:{click:function(o){t.addComponent(t.selectedNode.label,e)}}})],1),t._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v(t._s(e))]),t._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(t.components[e].description))])],1)],1)})],2):t._e(),t._v(" "),t.selectedNode&&"component"===t.selectedNode.type&&t.currentComponent&&t.currentComponent.slotDescriptions?o("q-list",{attrs:{"no-border":""}},[o("q-list-header",[t._v("Slots")]),t._v(" "),t._l(t.currentComponent.slotDescriptions,function(e,n){return o("q-item",{key:n,attrs:{"inset-separator":""}},[o("q-item-side",[o("q-btn",{staticClass:"bg-secondary text-white",attrs:{round:"",icon:"add",disabled:t.selectedNode.component.slots[n]},on:{click:function(e){t.addSlot(n)}}})],1),t._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[t._v(t._s(n))]),t._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[t._v(t._s(e.description))])],1)],1)})],2):t._e(),t._v(" "),t.selectedNode?o("div",{staticClass:"actions"},["component"===t.selectedNode.type&&"HbCard"!==t.selectedNode.label?o("div",[o("q-btn-group",{attrs:{push:""}},[o("q-btn",{attrs:{push:"",icon:"delete",color:"red"},on:{click:function(e){t.deleteComponent()}}}),t._v(" "),o("q-btn",{attrs:{push:"",icon:"keyboard_arrow_up",color:"white","text-color":"black"},on:{click:function(e){t.moveComponent(-1)}}}),t._v(" "),o("q-btn",{attrs:{push:"",icon:"keyboard_arrow_down",color:"white","text-color":"black"},on:{click:function(e){t.moveComponent(1)}}}),t._v(" "),o("q-btn",{attrs:{push:"",icon:"content_copy",color:"secondary"},on:{click:function(e){t.cloneComponent()}}})],1)],1):t._e()]):t._e()],1),t._v(" "),o("div",{staticClass:"card-container"},[t.cardModel?o("hb-card",{ref:"card",attrs:{model:t.cardModel,menu:"designer"}}):t._e()],1)],1)},A=[];T._withStripped=!0;var D=!1;var O=function(t){D||o("KwAo")},Q=Object(d.a)($,T,A,!1,O,null,null);Q.options.__file="src\\layouts\\designer\\CardDesigner.vue";e.default=Q.exports},uStN:function(t,e){}},[0]);